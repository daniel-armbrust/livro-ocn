<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Guia Prático para Implantação de Aplicações Cloud Native na Oracle Cloud Infrastructure (OCI)."><meta name=author content="Daniel Armbrust (darmbrust@gmail.com)"><link href=https://ocn.dev.br/capitulo-5/enderecamento-ipv6/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Capítulo 7: Conectividade e Redes - OCN - Oracle Cloud Native</title><link rel=stylesheet href=../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Open Sans";--md-code-font:"Red Hat Mono"}</style><link rel=stylesheet href=../../css/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#capitulo-7-conectividade-e-redes class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="OCN - Oracle Cloud Native" class="md-header__button md-logo" aria-label="OCN - Oracle Cloud Native" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OCN - Oracle Cloud Native </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Capítulo 7: Conectividade e Redes </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange aria-label="Light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__source> <a href=https://github.com/daniel-armbrust/livro-ocn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="OCN - Oracle Cloud Native" class="md-nav__button md-logo" aria-label="OCN - Oracle Cloud Native" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> OCN - Oracle Cloud Native </label> <div class=md-nav__source> <a href=https://github.com/daniel-armbrust/livro-ocn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../prefacio/ class=md-nav__link> <span class=md-ellipsis> Prefácio </span> </a> </li> <li class=md-nav__item> <a href=../../sobre-o-autor/ class=md-nav__link> <span class=md-ellipsis> Sobre o Autor </span> </a> </li> <li class=md-nav__item> <a href=../../como-usar-este-livro/ class=md-nav__link> <span class=md-ellipsis> Como usar este Livro </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-1/ class=md-nav__link> <span class=md-ellipsis> Capítulo 1 - Introdução à Computação em Nuvem </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-2/ class=md-nav__link> <span class=md-ellipsis> Capítulo 2 - Aplicação OCI PIZZA </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-3/ class=md-nav__link> <span class=md-ellipsis> Capítulo 3 - OCI Foundations </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-4/ class=md-nav__link> <span class=md-ellipsis> Capítulo 4 - Serviços Auxiliares e Persistência de Dados </span> </a> </li> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Capítulo 5 - Conectividade e Redes </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-6/ class=md-nav__link> <span class=md-ellipsis> Capítulo 6 - Contêineres, Docker e Funções </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-7/ class=md-nav__link> <span class=md-ellipsis> Capítulo 7 - Publicando a Aplicação na Web </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-8/ class=md-nav__link> <span class=md-ellipsis> Capítulo 8 - Oracle Kubernetes Engine (OKE) </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-9/ class=md-nav__link> <span class=md-ellipsis> Capítulo 9 - Serviço DevOps </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-10/ class=md-nav__link> <span class=md-ellipsis> Capítulo 10 - Monitoração e Observabilidade </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-11/ class=md-nav__link> <span class=md-ellipsis> Capítulo 11 - Infraestrutura como Código (IaC) </span> </a> </li> <li class=md-nav__item> <a href=../../apendice-a/ class=md-nav__link> <span class=md-ellipsis> Apêndice A - OCI HOWTOs </span> </a> </li> <li class=md-nav__item> <a href=../../bibliografia/ class=md-nav__link> <span class=md-ellipsis> Bibliografia </span> </a> </li> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> ChangeLog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=capitulo-7-conectividade-e-redes>Capítulo 7: Conectividade e Redes</h1> <h1 id=72-enderecamento-ipv6>7.2 Endereçamento IPv6</h1> <h2 id=721-introducao-ao-ipv6>7.2.1 Introdução ao IPv6</h2> <p>O IPv6 foi desenvolvido principalmente para suprir a falta de endereços IPv4. Hoje, todo novo host que <em>"nasce"</em> na internet, <em>"nasce"</em> com IPv6 e não mais com IPv4. Na verdade, nasce com IPv4 também porém, muitos provedores pela falta de endereços IPv4, utilizam técnicas de NAT como o <em><a href=https://pt.wikipedia.org/wiki/Carrier_Grade_NAT>CGNAT</a></em> para permitir que esses hosts possam se comunicar utilizando endereços IPv4.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Aqui, utilizaremos os termos <em>"host"</em> e <em>"nó" (node)</em> para nos referir a qualquer elemento de rede que possua um endereço IP e tenha a capacidade de se comunicar dentro da rede.</p> </div> <p>O IPv6 foi desenvolvido com base no IPv4, mas eles são incompatíveis entre si. Isso significa que uma máquina que opera exclusivamente com IPv4 não consegue se comunicar com uma máquina que utiliza apenas IPv6, e vice-versa.</p> <p>Quando analisamos um endereço IPv6, a principal diferença em relação ao IPv4, à primeira vista, é a quantidade de bits disponíveis para endereçamento. </p> <p>Como visto no capítulo anterior, um endereço IPv4 possui <strong>32 bits</strong>, enquanto um endereço IPv6 é formado por <strong>128 bits</strong>. Com 128 bits disponíveis para representar os endereços, temos um total de aproximadamente <strong>340 undecilhões</strong> de endereços disponíveis para uso.</p> <p><img alt=alt_text src=../img/endereco-ipv6-1.png title="Endereço IPv6 #1"></p> <p>Diferentemente do IPv4, a quantidade de endereços disponíveis no IPv6 é um número absurdamente grande. Por ter muitos endereços disponíveis, algumas soluções técnicas, como o uso de <em><a href=https://pt.wikipedia.org/wiki/Network_address_translation>NAT (Network Address Translation)</a></em>, tornam-se desnecessárias no IPv6.</p> <p>Essa é uma outra diferenciação entre IPv4 e IPv6: <strong><em>no IPv6, não há compartilhamento de endereços por meio de <a href=https://pt.wikipedia.org/wiki/Network_address_translation>NAT (Network Address Translation)</a></em></strong>. Com a abundância de endereços disponíveis no IPv6, a ideia é promover a conectividade direta entre os dispositivos de rede, alinhando-se ao projeto original da Internet (comunicação fim-a-fim).</p> <p>Devido ao maior número de bits disponíveis, sua representação passa a ser de outra forma. O endereço é composto por <strong><em>oito conjuntos de quatro caracteres hexadecimais, separados por dois-pontos, sendo esses conjuntos conhecidos como hexadecatetos</em></strong>.</p> <p><img alt=alt_text src=../img/endereco-ipv6-2.png title="Endereço IPv6 #2"></p> <p>Um caractere hexadecimal é representado por números de <strong>0 a 9</strong> e letras de <strong>A a F</strong>. Isso significa que um caractere hexadecimal pode representar valores decimais que variam de <strong>0 a 15</strong>. </p> <p>Utilizar a base binária ou mesmo a base decimal para representar um endereço IPv6 é inviável. Por essa razão, optou-se pela base hexadecimal, que proporciona uma representação mais compacta dos valores binários, uma vez que cada caractere hexadecimal corresponde a <strong>4 bits</strong>:</p> <p><img alt=alt_text src=../img/hexadecimal-binario-1.png title="Hexadecimal e Binário"></p> <p>A partir desses detalhes, a compreensão de um endereço IPv6 e seu conjunto numérico pode ser resumida da seguinte forma:</p> <p><img alt=alt_text src=../img/endereco-ipv6-3.png title="Endereço IPv6 #3"></p> <p>Para simplificar a representação, os endereços IPv6 podem ser escritos eliminando os zeros iniciais de cada conjunto hexadecimal, começando sempre da direita para a esquerda:</p> <p><img alt=alt_text src=../img/endereco-ipv6-4.png title="Endereço IPv6 #4"></p> <p>Além disso, grupos de zeros podem ser eliminados completamente. Por exemplo, o endereço que representa o <em><a href=https://pt.wikipedia.org/wiki/Localhost>localhost</a></em> ou <em><a href=https://pt.wikipedia.org/wiki/Localhost>loopback</a></em>, pode ser escrito da seguinte forma:</p> <p><img alt=alt_text src=../img/endereco-ipv6-5.png title="Endereço IPv6 #5"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Um conjunto de zeros, independentemente do tamanho, pode ser representado usando apenas dois-pontos <code>::</code>. No entanto, essa abreviação pode ser utilizada apenas uma vez em um endereço.</p> </div> <p>A representação de <strong><em>prefixos de rede</em></strong>, por meio da notação <em><a href=https://pt.wikipedia.org/wiki/Roteamento_Interdom%C3%ADnio_Sem_Classes>CIDR</a></em>, utilizada no IPv4, é aplicada da mesma forma no IPv6 para identificar a parte do endereço que representa a rede e a parte que representam os hosts:</p> <p><img alt=alt_text src=../img/endereco-ipv6-6.png title="Endereço IPv6 #6"></p> <p>Por fim, é importante ressaltar que a <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.1>RFC 4291</a></em> recomenda que os prefixos que identificam a rede não devem ultrapassar <code>/64</code>. Isso significa que, em um espaço de 128 bits, recomenda-se sempre reservar <strong>64 bits</strong> para a parte que <strong>identifica a rede</strong> e os <strong>64 bits</strong> restantes para a identificação das <strong>interfaces de rede</strong>. Essa divisão é essencial para o funcionamento da <strong>autoconfiguração</strong> do IPv6, a qual será detalhada mais adiante.</p> <p><img alt=alt_text src=../img/endereco-ipv6-7.png title="Endereço IPv6 #7"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Um prefixo é a parte do endereço onde os bits têm valores fixos.</p> </div> <h2 id=722-tipos-de-enderecos>7.2.2 Tipos de Endereços</h2> <p>No IPv6, existem <strong><em>três tipos de endereços</em></strong> utilizados para <strong><em>diferentes formas de comunicação</em></strong> entre os dispositivos da rede. São eles:</p> <h3 id=unicast><strong><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5>Unicast</a></strong></h3> <p>Um endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5>Unicast</a></em> é utilizado para <strong><em>identificar de maneira única uma interface de rede dentro de uma rede</em></strong>. Isso significa que um pacote de dados enviado para um endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5>Unicast</a></em> será entregue a uma única interface de rede. </p> <p>Na imagem abaixo, é possível observar que cada host da rede possui um endereço IPv6 único e exclusivo, permitindo que os computadores se comuniquem entre si de maneira individual, <strong><em>um-para-um</em></strong>: </p> <p><img alt=alt_text src=../img/ipv6-unicast-1.png title="IPv6 Unicast"></p> <h3 id=multicast><strong><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></strong></h3> <p>Endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em> são utilizados para comunicação com um <strong><em>grupo de hosts (multicast group)</em></strong> ou um <strong><em>grupo de interfaces de rede (VNICs)</em></strong>. Esses endereços estão contidos no prefixo <code>FF00::/8</code>, o que significa que todos os endereços que começam com <code>FF</code> são sempre do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em>.</p> <p>A <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>RFC 4291</a></em>, na seção <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>"2.7. Multicast Addresses"</a></em>, define que um endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em> serve como um <strong><em>identificador</em></strong> para um <strong><em>grupo de interfaces de rede</em></strong>, geralmente localizadas em diferentes nós. Além disso, as comunicações do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em> são sempre do tipo <strong><em>um-para-todos</em></strong>.</p> <p><img alt=alt_text src=../img/ipv6-multicast-1.png title="IPv6 Multicast"></p> <p>Diferentemente do IPv4, no IPv6 <strong><em>não existe endereço de broadcast</em></strong> e dessa forma, o protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc826>ARP (Address Resolution Protocol)</a></em>, que faz uso de endereços broascast, também deixa de existir. Mais adiante, você verá que essas funcionalidades são substituídas pelo protocolo <em><a href=https://pt.wikipedia.org/wiki/Neighbor_Discovery_Protocol>NDP (Neighbor Discovery Protocol)</a></em>, que utiliza endereços do tipo multicast para realizar a descoberta dos demais hosts da rede (vizinhos).</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>A comunicação do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em> é <strong><em>essencial para o funcionamento do IPv6</em></strong>. Para que a rede IPv6 opere corretamente, é necessário que esse tipo de comunicação funcione. Por exemplo, se, por algum motivo, o firewall de um host na rede for configurado para bloquear as comunicações do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em>, isso impedirá o seu funcionamento em uma rede IPv6.</p> </div> <h3 id=anycast><strong><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.6>Anycast</a></strong></h3> <p><em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.6>Anycast</a></em> é uma forma seletiva de comunicação que direciona os pacotes de dados para o <strong><em>nó mais próximo</em></strong> dentro de um grupo de nós. Os pacotes são enviados da <strong><em>origem para o destino mais próximo (menor custo)</em></strong>. É importante mencionar que os pacotes de dados também podem ser enviados de uma origem para um <strong><em>grupo de destinos mais próximos</em></strong>, <strong><em>um-para-o-mais-próximo</em></strong>.</p> <p>Um exemplo de comunicação do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.6>Anycast</a></em> é a resolução de nomes DNS. Na imagem abaixo, é possível observar que os servidores compartilham o mesmo endereço IP (sim, isto é possível no IPv6). Quando o notebook precisa resolver um nome, o roteador <strong><em>seleciona o servidor mais próximo</em></strong>, com o <strong><em>menor custo</em></strong>, para atender a essa solicitação:</p> <p><img alt=alt_text src=../img/ipv6-anycast-1.png title="IPv6 Anycast"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Ao contrário dos endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5>Unicast</a></em> e <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.7>Multicast</a></em>, os endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.6>Anycast</a></em> não possuem um prefixo específico.</p> </div> <h2 id=723-enderecos-unicast>7.2.3 Endereços Unicast</h2> <p>Assim como no IPv4, o IPv6 também possui endereços do tipo privado, que são utilizados exclusivamente para comunicação em redes locais (não roteáveis), e endereços IP públicos, também conhecidos como endereços válidos, que são usados para comunicação na Internet (roteáveis).</p> <p>Embora existam endereços do tipo privado e público, a proposta é sempre utilizar os endereços IP públicos, independentemente de o host precisar ou não se comunicar com a Internet. Isso pode parecer estranho à primeira vista, pois estamos acostumados com o mundo IPv4, onde toda a rede interna é uma rede privada que deve ser endereçada com IPs privados <em>(<a href=https://www.rfc-editor.org/rfc/rfc1918>RFC 1918</a>)</em> e, para acessar a Internet, a rede interna precisa compartilhar o único IP público fornecido pelo provedor de acesso por meio de técnicas de <em><a href=https://pt.wikipedia.org/wiki/Network_address_translation>NAT (Network Address Translation)</a></em>.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>É importante ressaltar novamente que, no IPv6, não se utiliza <em><a href=https://pt.wikipedia.org/wiki/Network_address_translation>NAT</a></em> para a comunicação na Internet. Não há necessidade de compartilhar um único endereço público entre uma rede de endereços privados. Com a abundância de endereços IPv6 disponíveis, seu provedor de serviços de Internet atribuirá mais de um endereço a você. Na verdade, o provedor fornece um prefixo de rede que pode ser distribuído entre os dispositivos da sua rede local. </p> </div> <p>Outro aspecto importante relacionado aos endereços em uma rede IPv6 é que o protocolo IPv6 foi projetado para suportar múltiplos endereços de diferentes tipos em uma única interface de rede. A imagem abaixo exibe o resultado do comando <code>ipconfig</code>, mostrando a presença de vários endereços IPv6 em uma interface de rede de um sistema operacional Windows:</p> <p><img alt=alt_text src=../img/endereco-ipv6-8.png title="Endereço IPv6 #8"></p> <p>Embora os termos público e privado sejam comuns no contexto do IPv4, no IPv6 utiliza-se o termo <strong><em>escopo do endereço (address scope)</em></strong>. O escopo refere-se a uma área da rede onde o endereço é único e relevante. De acordo com a <em><a href=https://www.rfc-editor.org/rfc/rfc4007#section-4>RFC 4007</a></em>, o escopo é definido como um intervalo topológico dentro do qual o endereço pode ser utilizado como um identificador exclusivo para uma interface de rede ou um conjunto de interfaces.</p> <p>No IPv6, existem três tipos de escopos:</p> <ul> <li> <p><strong>Link-Local</strong></p> <ul> <li>Endereços que são acessíveis apenas dentro de um link de dados específico.</li> </ul> </li> <li> <p><strong>Site-Local</strong></p> <ul> <li>Endereços que são acessíveis dentro de um site ou organização, utilizados por toda uma empresa e suas filiais, por exemplo. </li> </ul> </li> <li> <p><strong>Global</strong></p> <ul> <li>Endereços com alcance mundial ou global, que podem ser roteados na Internet.</li> </ul> </li> </ul> <p><img alt=alt_text src=../img/link-site-local-global-1.png title="Link-Local, Site-Local, Global"></p> <p>Abaixo está o resultado do comando <code>ifconfig</code> de um sistema operacional Linux, que exibe o escopo dos endereços IPv6:</p> <p><img alt=alt_text src=../img/ifconfig-ipv6-1.png title="Linux ifconfig #1"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Para obter mais informações sobre o escopo dos endereços IPv6, consulte a <em><a href=https://www.rfc-editor.org/rfc/rfc4007#section-4>RFC 4007 - IPv6 Scoped Address Architecture</a></em>.</p> </div> <p>A seguir, serão apresentados os tipos de endereços <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5>Unicast</a></em> classificados de acordo com o seu escopo.</p> <h3 id=gua-global-unicast-addresses><strong><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA (Global Unicast Addresses)</a></strong></h3> <p>Endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA (Global Unicast Addresses)</a></em> são identificados pelo prefixo <code>2000::/3</code> e são <strong><em>equivalentes aos endereços públicos/válidos do IPv4 (escopo global)</em></strong> . No IPv6, todo dispositivo que deseja acessar a Internet necessita de um endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA</a></em>.</p> <p>Diferentemente do IPv4, o IPv6 oferece uma abundância de endereços disponíveis, permitindo que cada host que precise se comunicar na Internet tenha seu próprio endereço público exclusivo. Assim, por exemplo, se em uma rede com dez hosts e os dez hosts precisam se comunicar com a Internet, cada um dos dez terá o seu próprio endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA</a></em>. O IPv6 restabelece o modelo de comunicação <em>Fim-a-Fim</em>, que é o princípio original da Internet.</p> <p><img alt=alt_text src=../img/ipv6-comunicacao-fim-a-fim-1.png title="IPv6 - Comunicação Fim-a-Fim"></p> <h4 id=formato-dos-enderecos-gua><strong>Formato dos Endereços GUA</strong></h4> <p>De acordo com a <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>RFC 4291</a></em>, os endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA</a></em> possuem o seguinte formato:</p> <p><img alt=alt_text src=../img/ipv6-gua-1.png title="Endereço IPv6 GUA"></p> <ul> <li> <p><strong>Bits Fixos</strong></p> <ul> <li>O três primeiros bits <code>001</code> do endereço são fixos e representa o prefixo <code>2000::/3</code>. Assim, os endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA</a></em> estão contidos na faixa que vai de <code>2000:0:0:0:0:0:0</code> até <code>3fff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</code>.</li> </ul> </li> <li> <p><strong>Global Routing Prefix</strong></p> <ul> <li>Prefixo de roteamento global, utilizado para identificar o tamanho do prefixo atribuído a uma rede.</li> </ul> </li> <li> <p><strong>Subnet ID</strong></p> <ul> <li>Identificação da sub-rede, utilizada para identificar um enlace em uma rede.</li> </ul> </li> <li> <p><strong>Interface ID</strong></p> <ul> <li>Identifica de maneira única uma interface de rede dentro da sub-rede. Como mencionado anteriormente, é recomendado utilizar <strong>64 bits</strong> para a parte que identifica as interfaces de rede.</li> </ul> </li> </ul> <h4 id=politicas-de-alocacao-e-designacao><strong>Políticas de Alocação e Designação</strong></h4> <p>A gestão e alocação dos prefixos IPv6 em nível mundial é feita pela <em><a href=https://www.iana.org/ >IANA (Internet Assigned Numbers Authority)</a></em>. Esta por sua vez, aloca um prefixo <code>/12</code> para cada <em><a href=https://pt.wikipedia.org/wiki/Registro_Regional_da_Internet>RIR (Registros Regionais de Internet)</a></em>, como a <em><a href=https://www.arin.net/ >ARIN (American Registry for Internet Numbers)</a></em>, <em><a href=https://www.apnic.net/ >APNIC (Asia-Pacific Network Information Centre)</a></em>, <em><a href=https://www.lacnic.net>LACNIC (Latin America and Caribbean Network Information Centre)</a></em>, entre outros.</p> <p>Na América Latina, que fica sob a gestão do <em><a href=https://www.lacnic.net>LACNIC</a></em>, o prefixo <code>2800::/12</code>, alocado pela <em><a href=https://www.iana.org/ >IANA</a></em>, é dividido e distribuído entre os países da região. No Brasil, o <em><a href=https://www.nic.br/ >NIC.br</a></em> é responsável pelo gerenciamento do prefixo <code>2804::/16</code>. A partir desse prefixo, o <em><a href=https://www.nic.br/ >NIC.br</a></em> aloca prefixos para provedores de acesso à Internet <em><a href=https://pt.wikipedia.org/wiki/Fornecedor_de_acesso_%C3%A0_internet>(ISP - Internet Service Provider)</a></em>, empresas e organizações, instituições de ensino e pesquisa, além de entidades governamentais.</p> <p><img alt=alt_text src=../img/ipv6-nicbr-1.png title="IPv6 - Políticas de Alocação e Designação"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O <em><a href=https://www.nic.br/ >NIC.br</a></em> também gerencia prefixos menores, como <code>2001:1280::/25</code> e <code>2001:1280::/25</code>, que são provenientes de alocações antigas. Para mais informações, consulte a página <em><a href=https://ipv6.nic.br/post/enderecamento/ >Endereçamento</a></em> do <em><a href=https://www.nic.br/ >NIC.br</a></em>.</p> </div> <p>A partir do prefixo <code>2804::/16</code>, o <em><a href=https://www.nic.br/ >NIC.br</a></em> segue suas próprias políticas de alocação:</p> <p><strong>1.</strong> A alocação mínima para provedores de serviços de Internet (ISPs) é um prefixo <code>/32</code>. No entanto, alocações maiores podem ser realizadas mediante a apresentação de uma justificativa de utilização.</p> <p><strong>2.</strong> Prefixos <code>/56</code> a <code>/64</code> para usuários domésticos. No entanto, o <em><a href=https://www.nic.br/ >NIC.br</a></em> recomenda que os provedores de acesso atribuam prefixos <code>/56</code> a esses usuários.</p> <p><strong>3.</strong> Para usuários móveis pode-se utilizar um prefixo <code>/64</code>, pois geralmente uma única rede é suficiente.</p> <p><strong>4.</strong> Prefixo <code>/48</code> para usuários corporativos. Empresas maiores podem receber mais de um prefixo <code>/48</code>.</p> <p>Para se ter uma ideia, a partir de um prefixo <code>/32</code>, temos <strong>32 bits</strong> disponíveis para criar sub-redes (<code>64 - 32 = 32 bits</code>). Isso permite a criação de até <strong>quatro bilhões de sub-redes</strong> diferentes (<code>2^32 = 4.294.967.296</code>). </p> <p>Em um prefixo <code>/48</code>, há <strong>16 bits</strong> para a criação de sub-redes (<code>64 - 48 = 16 bits</code>), o que representa um total de <strong>65.536 sub-redes</strong> possíveis (<code>2^16 = 65,536</code>).</p> <p>Já em um prefixo <code>/56</code>, temos <strong>8 bits</strong> para criar sub-redes (<code>64 - 56 = 8 bits</code>), resultando em um total de <strong>256 sub-redes</strong> disponíveis (<code>2^8 = 256</code>).</p> <p>Observe que a alocação e a subdivisão para a criação das sub-redes ocorrem nos primeiros 64 bits de um endereço IPv6. Os 64 bits restantes são utilizados para identificar as interfaces de rede, permitindo endereçar aproximadamente <strong>dezoito quatrilhões de interfaces de rede</strong> dentro de uma sub-rede (<code>2 ^ 64 = 18.446.744.073.709.551,616</code>).</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>É bastante provável que o seu provedor de acesso forneça um prefixo <code>/56</code> para que você possa acessar a Internet. Como você verá, o <em><a href=https://www.oracle.com/cloud/ >OCI</a></em> também disponibiliza um prefixo <code>/56</code> nas VCNs com sub-redes públicas configuradas para IPv6.</p> </div> <h3 id=ula-unique-local-ipv6-unicast-addresses><strong><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA (Unique Local IPv6 Unicast Addresses)</a></strong></h3> <p>Endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA (Unique Local IPv6 Unicast Addresses)</a></em>, também conhecidos de forma abreviada como <em><a href=https://www.rfc-editor.org/rfc/rfc4193>Local IPv6 Address</a></em>, são identificados pelo prefixo <code>FC00::/7</code> e são <strong><em>equivalentes aos endereços privados do IPv4 (escopo site-local)</em></strong>.</p> <p>Esses endereços são utilizados exclusivamente para comunicação interna de um site e não devem aparecer ou ser roteados na Internet. Provedores de acesso à Internet bloqueiam esse tipo de endereço da mesma forma que ocorre com os endereços privados do IPv4 <em>(<a href=https://www.rfc-editor.org/rfc/rfc1918>RFC 1918</a>)</em>.</p> <p>Como sabemos, a funcionalidade do <em><a href=https://pt.wikipedia.org/wiki/Network_address_translation>NAT (Network Address Translation)</a></em> para acesso à Internet a partir de uma rede interna IPv4 não se aplica a redes IPv6. Em uma interface de rede IPv6, é possível ter simultaneamente um endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA (Global Unicast Addresses)</a></em> e um endereço do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em>. O sistema operacional geralmente escolhe automaticamente o endereço apropriado com base no tipo de comunicação que está sendo realizada.</p> <p>Em resumo, o <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.4>GUA</a></em> é preferencial para comunicação com a Internet, enquanto o <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em> é preferencial para comunicação interna, dentro de um site.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Consulte a <em><a href=https://www.rfc-editor.org/rfc/rfc6724>RFC 6724 - Default Address Selection for Internet Protocol Version 6 (IPv6)</a></em> para obter mais informações sobre a utilização dos algoritmos de seleção de endereços, que são definidos com base no tipo de comunicação que o host irá realizar.</p> </div> <h4 id=formato-dos-enderecos-ula><strong>Formato dos Endereços ULA</strong></h4> <p>De acordo com a <em><a href=https://www.rfc-editor.org/rfc/rfc4193>RFC 4193</a></em>, os endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em> possuem o seguinte formato:</p> <p><img alt=alt_text src=../img/ipv6-ula-1.png title="Endereço IPv6 ULA #1"></p> <ul> <li> <p><strong>Bits Fixos</strong></p> <ul> <li>Os sete primeiros bits <code>1111110</code> do endereço são fixos e representa o prefixo <code>FC00::/7</code>, que identifica endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em>. Este prefixo por sua vez foi dividido em dois <code>/8</code>: <code>FC00::/8</code> e <code>FD00::/8</code>.</li> </ul> </li> <li> <p><strong>L Flag</strong></p> <ul> <li>A L Flag (ou Local Flag) é utilizada para identificar se o prefixo de endereços é <strong>global</strong> ou <strong>local</strong>. Um valor de <code>0</code> indica que o prefixo é destinado ao uso global, enquanto um valor <code>1</code> indica que o prefixo é para uso local. </li> </ul> </li> <li> <p><strong>Global ID</strong></p> <ul> <li>Os <code>40 bits</code> são utilizados para identificar a sua rede. Você verá que, recomenda-se que esses bits sejam gerados por meio de algoritmos específicos que produzem valores pseudo-aleatórios.</li> </ul> </li> <li> <p><strong>Subnet ID</strong></p> <ul> <li>Os <code>16 bits</code> são utilizados para identificar uma sub-rede dentro de um site e podem ser escolhidos livremente.</li> </ul> </li> <li> <p><strong>Interface ID</strong></p> <ul> <li>Os <code>64 bits</code> são utilizados para identificar as interfaces de rede dentro de uma sub-rede. É recomendado utilizar todo o espaço de <code>64 bits</code> para endereçar as interfaces de rede, nem menos nem mais.</li> </ul> </li> </ul> <h4 id=l-flag><strong>L Flag</strong></h4> <p>Para criar redes IPv6 usando prefixos privados de sua escolha, é necessário que o bit <strong>L Flag</strong> tenha o valor <code>1</code>. A especificação dos endereços <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em> estabelece que, quando esse bit está definido como <code>0</code>, o endereço representa um prefixo global. Por outro lado, um valor de <code>1</code> indica que o prefixo é destinado ao uso privado.</p> <p>A utilização do valor do bit em <code>0</code>, que define o prefixo <strong>global</strong> <code>FC00::/8</code>, não foi amplamente aceita, pois a intenção é que esses prefixos sejam administrados e alocados a partir das autoridades de Internet com a finalidade de garantir que não haja conflitos de endereços privados entre as organizações em todo o mundo. Em outras palavras, neste caso, para utilizar um prefixo destinado ao endereçamento privado em sua rede, é necessário solicitá-lo a uma autoridade de Internet, em vez de escolher um prefixo qualquer de sua escolha.</p> <p>Já para definir prefixos de uso <strong>local</strong>, é necessário que o bit <strong>L Flag</strong> esteja configurado com o valor <code>1</code>, resultando no prefixo <code>FD00::/8</code>. Esses prefixos, destinados ao uso privado, estão contidos na faixa que vai de <code>FD00:0:0:0:0:0:0</code> até <code>FDff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</code>, podendo ser representados de forma abreviada como <code>FD00::/8</code>.</p> <p><img alt=alt_text src=../img/ipv6-ula-2.png title="Endereço IPv6 ULA #2"></p> <p>Esse é o prefixo que você deve utilizar para suas redes privadas IPv6: <code>FD00::/8</code>.</p> <h4 id=global-id><strong>Global ID</strong></h4> <p>A porção do endereço <strong>Global ID</strong>, composta por <code>40 bits</code>, é utilizada para identificar o prefixo de uso privado e exclusivo de uma organização. Como mencionado anteriormente, os valores para a porção <strong>Global ID</strong> foram projetados para serem administrados por autoridades da Internet. </p> <p>A ideia inicial parecia boa, pois, ao utilizar prefixos únicos, as organizações poderiam evitar problemas de endereçamento ao integrar redes, como endereços de VPN que se sobrepõem, entre outros. No entanto, o processo de solicitação de prefixos privados se torna burocrático e por isso não foi amplamente aceito.</p> <p>Neste caso, a recomendação e a proposta aceita é que a geração da porção <strong>Global ID</strong> seja realizada por meio de algoritmos específicos que produzem valores pseudo-aleatórios. Essa abordagem, de certa forma, garante uma baixa probabilidade de que diferentes organizações utilizem o mesmo prefixo.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Consulte a seção <em><a href=https://www.rfc-editor.org/rfc/rfc4193#section-3.2.2>3.2.2. Sample Code for Pseudo-Random Global ID Algorithm</a></em> da <em><a href=https://www.rfc-editor.org/rfc/rfc4193>RFC 4193</a></em> para obter mais detalhes sobre o algoritmo proposto para a geração de prefixos pseudo-aleatórios.</p> </div> <p>Um site que eu particularmente gosto para gerar prefixos pseudo-aleatórios é o <em><a href=https://rovaughn.com/ipv6-subnet-generator/ >rovaughn.com/ipv6-subnet-generator</a></em>. Ele fornece como resultado os valores para <strong>Global ID</strong> e <strong>Subnet ID</strong>:</p> <p><img alt=alt_text src=../img/ipv6-ula-3.png title="Endereço IPv6 ULA #3"></p> <p>Apenas para complementar a explicação, também é possível utilizar a linha de comando para gerar prefixos de rede:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span>
<span class=normal><a href=#__codelineno-0-7>7</a></span>
<span class=normal><a href=#__codelineno-0-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a>$<span class=w> </span><span class=nb>printf</span><span class=w> </span><span class=s2>&quot;fd%x:%x:%x::/48\n&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=k>$((</span><span class=w> </span><span class=nv>$RANDOM</span><span class=o>/</span><span class=m>256</span><span class=w> </span><span class=k>))</span><span class=s2>&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=nv>$RANDOM</span><span class=s2>&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=nv>$RANDOM</span><span class=s2>&quot;</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>fd5f:62f:6926::/48
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>$<span class=w> </span><span class=nb>printf</span><span class=w> </span><span class=s2>&quot;fd%x:%x:%x::/48\n&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=k>$((</span><span class=w> </span><span class=nv>$RANDOM</span><span class=o>/</span><span class=m>256</span><span class=w> </span><span class=k>))</span><span class=s2>&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=nv>$RANDOM</span><span class=s2>&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=nv>$RANDOM</span><span class=s2>&quot;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>fd3b:7b75:6c88::/48
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a>$<span class=w> </span><span class=nb>printf</span><span class=w> </span><span class=s2>&quot;fd%x:%x:%x::/48\n&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=k>$((</span><span class=w> </span><span class=nv>$RANDOM</span><span class=o>/</span><span class=m>256</span><span class=w> </span><span class=k>))</span><span class=s2>&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=nv>$RANDOM</span><span class=s2>&quot;</span><span class=w> </span><span class=s2>&quot;</span><span class=nv>$RANDOM</span><span class=s2>&quot;</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a>fd7e:1237:76e2::/48
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Embora os valores aleatórios gerados pelo exemplo de linha de comando acima sejam fáceis de reproduzir, é importante mencionar que esse método não está em conformidade com as recomendações do algoritmo proposto pela <em><a href=https://www.rfc-editor.org/rfc/rfc4193#section-3.2.2>RFC 4193</a></em>.</p> </div> <h4 id=subnet-id><strong>Subnet ID</strong></h4> <p><strong>Subnet ID</strong>, composto por <code>16 bits</code>, é a parte que identifica as sub-redes dentro do prefixo. Para se ter uma ideia, com <code>16 bits</code>, é possível ter até <code>65.536</code> sub-redes.</p> <p><img alt=alt_text src=../img/ipv6-ula-4.png title="Endereço IPv6 ULA #4"></p> <p>Existem alguns métodos para calcular sub-redes IPv6, visto que há um grande número de bits disponíveis para essa finalidade. É possível iniciar a criação das sub-redes a partir dos bits mais à direita, à esquerda ou até mesmo do meio do endereço. </p> <p>Abaixo, serão apresentados alguns exemplos de sub-redes criadas a partir do prefixo <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em> <code>fde3:50e0:8c08::/48</code>:</p> <p><img alt=alt_text src=../img/ipv6-ula-5.png title="Endereço IPv6 ULA #5"></p> <p><img alt=alt_text src=../img/ipv6-ula-6.png title="Endereço IPv6 ULA #6"></p> <p><img alt=alt_text src=../img/ipv6-ula-7.png title="Endereço IPv6 ULA #7"></p> <p>Para simplificar a criação de sub-redes IPv6, existe o script <em><a href=https://code.google.com/archive/p/ipv6gen/ >ipv6gen</a></em>. Esse script permite especificar a alocação das sub-redes utilizando os bits mais à direita (<code>-r</code>), à esquerda (<code>-l</code>) ou a partir do meio do endereço (<code>-m</code>). </p> <p>Abaixo está um exemplo de geração de prefixos utilizando os bits mais à direita (<code>-r</code>):</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span>
<span class=normal><a href=#__codelineno-1-2>2</a></span>
<span class=normal><a href=#__codelineno-1-3>3</a></span>
<span class=normal><a href=#__codelineno-1-4>4</a></span>
<span class=normal><a href=#__codelineno-1-5>5</a></span>
<span class=normal><a href=#__codelineno-1-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a>$<span class=w> </span>./ipv6gen.pl<span class=w> </span>-r<span class=w> </span>fde3:50e0:8c08::/48<span class=w> </span><span class=m>64</span><span class=w> </span><span class=p>|</span><span class=w> </span>head<span class=w> </span>-5
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2></a>FDE3:50E0:8C08:0000::/64
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3></a>FDE3:50E0:8C08:0001::/64
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4></a>FDE3:50E0:8C08:0002::/64
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5></a>FDE3:50E0:8C08:0003::/64
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6></a>FDE3:50E0:8C08:0004::/64
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <em><a href=https://code.google.com/archive/p/ipv6gen/ >ipv6gen</a></em> pode ser baixado diretamente do site <em><a href=https://code.google.com/archive/p/ipv6gen/ >https://code.google.com/archive/p/ipv6gen/</a></em>.</p> </div> <h4 id=interface-id><strong>Interface ID</strong></h4> <p><strong>Interface ID</strong> é a parte do endereço que identifica individualmente cada interface de rede dentro de uma sub-rede. Como já mencionado, recomenda-se que essa porção tenha <code>64 bits</code>. Com <code>64 bits</code>, é possível ter até <code>18 quintilhões</code> de endereços de rede dentro de uma única sub-rede.</p> <p><img alt=alt_text src=../img/ipv6-ula-8.png title="Endereço IPv6 ULA #8"></p> <p>Um endereço completo <em><a href=https://www.rfc-editor.org/rfc/rfc4193>ULA</a></em> apresenta o seguinte formato:</p> <p><img alt=alt_text src=../img/ipv6-ula-9.png title="Endereço IPv6 ULA #9"></p> <h3 id=link-local-ipv6-unicast-addresses><strong><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local IPv6 Unicast Addresses</a></strong></h3> <p>Endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local</a></em> são identificados pelo prefixo <code>FE80::/10</code> e são <strong><em>equivalentes aos endereços <a href=https://www.rfc-editor.org/rfc/rfc3927>APIPA (Automatic Private IP Address)</a> do IPv4</em></strong> (<code>169.254.0.0/16</code>).</p> <p>Diferentemente dos endereços <em><a href=https://www.rfc-editor.org/rfc/rfc3927>APIPA</a></em>, que são gerados automaticamente por um host quando ele não consegue obter um endereço IP de um servidor DHCP, os endereços <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local</a></em> do IPv6 <strong><em>são sempre gerados automaticamente</em></strong> para cada interface de rede que suporte IPv6. Esses endereços <strong><em>são obrigatórios e sempre estão presentes</em></strong>.</p> <p>Os endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local</a></em> são válidos apenas dentro da rede local, ou seja, são restritos a um único link e não devem ser propagados para fora da rede <strong><em>(escopo link-local)</em></strong>. Eles desempenham um papel importante na rede IPv6, sendo fundamentais principalmente para operações de <em>Autoconfiguração de Endereço</em> e <em>Descoberta de Vizinhança <a href=https://pt.wikipedia.org/wiki/Neighbor_Discovery_Protocol>(Neighbor Discovery Protocol)</a></em>, que serão exploradas mais adiante. Se esses endereços não estiverem disponíveis ou se o tráfego entre os hosts da rede local que utilizam esses endereços não for permitido, a rede IPv6 não funcionará corretamente.</p> <h4 id=formato-dos-enderecos-link-local><strong>Formato dos Endereços Link-Local</strong></h4> <p><img alt=alt_text src=../img/ipv6-link-local-1.png title="Endereço IPv6 Link-Local #1"></p> <ul> <li> <p><strong>Bits Fixos</strong></p> <ul> <li>Os dez primeiros bits <code>1111111010</code> do endereço são fixos e representa o prefixo <code>FE80::/10</code>, que identifica endereços do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local</a></em>. </li> </ul> </li> <li> <p><strong>54 Bits</strong></p> <ul> <li>Os próximos <code>54 bits</code> do endereço têm um valor fixo de zero. Portanto, o prefixo completo é definido como <code>fe80:0000:0000:0000::/64</code>.</li> </ul> </li> <li> <p><strong>Interface ID</strong></p> <ul> <li>Os <code>64 bits</code> restantes são utilizados para identificar as interfaces de rede e são gerados automaticamente pelo host com base no <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC Address</a></em> da interface correspondente.</li> </ul> </li> </ul> <h4 id=geracao-dos-enderecos-link-local><strong>Geração dos Endereços Link-Local</strong></h4> <p>Endereços <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local</a></em> são gerados automaticamente pelo sistema operacional do host quando uma interface de rede que suporte o protocolo IPv6 é ativada.</p> <p>A parte que identifica a <strong>Interface ID</strong> do endereço, é gerada com base no <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC Address</a></em> da interface de rede através do método mais comum denominado <strong><em><a href=https://www.geeksforgeeks.org/computer-networks/ipv6-eui-64-extended-unique-identifier/ >EUI-64</a></em></strong>.</p> <p>Para entender como essa geração é realizada, será usado como exemplo o endereço <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC Address</a></em> <code>02:00:17:01:ed:ff</code> de uma interface de rede qualquer. É importante notar que o <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC Address</a></em> é um identificador de <code>48 bits</code> (ou 6 bytes) dividido em duas partes:</p> <p><img alt=alt_text src=../img/mac-address-1.png title="MAC Address #1"></p> <ul> <li> <p><strong>OUI (Organizationally Unique Identifier)</strong></p> <ul> <li>Os primeiros <code>24 bits</code> ou <code>3 bytes</code> identificam o fabricante do dispositivo. Essa numeração é gerenciada pelo <em><a href=https://pt.wikipedia.org/wiki/Instituto_de_Engenheiros_Eletricistas_e_Eletr%C3%B4nicos>IEEE (Institute of Electrical and Electronics Engineers)</a></em>, que é responsável por atribuir esses identificadores únicos às empresas que fabricam dispositivos de rede.</li> </ul> </li> <li> <p><strong>ID do Dispositivo</strong></p> <ul> <li>Os últimos <code>24 bits</code> ou <code>3 bytes</code> de um endereço <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC</a></em> são gerenciados e definidos pelo fabricante do dispositivo, que controla a atribuição de identificadores únicos para cada dispositivo que produz.</li> </ul> </li> </ul> <p>A partir do endereço <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC</a></em>, o protocolo IPv6 utiliza um método chamado <em><a href=https://www.geeksforgeeks.org/computer-networks/ipv6-eui-64-extended-unique-identifier/ >64-bit Extended Unique Identifier ou EUI-64</a></em> para gerar endereços <em><a href=https://www.rfc-editor.org/rfc/rfc4291.html#section-2.5.6>Link-Local</a></em> únicos em uma rede. Para isso, o protocolo IPv6 aproveita a estrutura dos endereços <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>MAC</a></em> para realizar a criação de um endereço IPv6 exclusivo. De forma simplificada, o processo segue os seguintes passos:</p> <p><strong>1. O sétimo bit do primeiro byte é invertido. Se estiver definido como zero, ele se torna um. Se estiver definido como um, ele se torna zero:</strong></p> <p><img alt=alt_text src=../img/mac-address-2.png title="MAC Address #2"></p> <p><strong>2. O valor <code>FFFE</code> é inserido no meio do endereço:</strong></p> <p><img alt=alt_text src=../img/mac-address-3.png title="MAC Address #3"></p> <p><strong>3. Por fim, usa-se o prefixo <code>FE80::/64</code> junto com a parte do endereço que identifica a interface de rede (<code>0000:17FF:FE01:EDFF</code>):</strong></p> <p><img alt=alt_text src=../img/ipv6-ula-10.png title="Endereço IPv6 ULA #10"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Na imagem acima, os zeros da parte que identifica o prefixo da rede foram omitidos para economizar espaço. No sistema operacional, o endereço exibido seria <code>FE80::17FF:FE01:EDFF</code>. </p> </div> <h2 id=724-neighbor-discovery-protocol-ndp>7.2.4 Neighbor Discovery Protocol (NDP)</h2> <p>No IPv4, utiliza-se o protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc826>ARP</a></em> e endereços do tipo <strong>broadcast</strong> para localizar e possibilitar a troca de dados entre dispositivos conectados ao mesmo link de dados. Já no IPv6, essas funções foram substituídas pelo protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4861>Neighbor Discovery Protocol (NDP)</a></em> que opera sobre o protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4443>ICMPv6</a></em>. Em vez de endereços broadcast, o IPv6 utiliza endereços do tipo <strong>multicast</strong> para realizar essas operações.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4861>Neighbor Discovery Protocol (NDP)</a></em> está especificado na <em><a href=https://www.rfc-editor.org/rfc/rfc4861>RFC 4861</a></em> e o protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4443>ICMPv6</a></em> está especificado na <em><a href=https://www.rfc-editor.org/rfc/rfc4443>RFC 4443</a></em>.</p> </div> <p>De maneira análoga ao <em><a href=https://www.rfc-editor.org/rfc/rfc826>ARP</a></em>, o protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4861>Neighbor Discovery Protocol (NDP)</a></em> utiliza um conjunto de mensagens e processos para facilitar a comunicação entre dispositivos conectados no mesmo link de dados, permitindo a <em>"descoberta da vizinhança"</em>. Para isso, ele trabalha com cinco diferentes tipos de mensagens:</p> <ul> <li> <p><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.1>Router Solicitation (RS)</a></p> <ul> <li>Quando um host se torna ativo na rede, ele envia mensagens do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.1>RS</a></em> para descobrir os roteadores IPv6 disponíveis.</li> </ul> </li> <li> <p><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.2>Router Advertisement (RA)</a></p> <ul> <li>O roteador, por sua vez, envia mensagens do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.2>RA</a></em>, não apenas em resposta a solicitações do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.1>RS</a></em>, mas também de forma periódica para anunciar sua presença na rede. Essas mensagens contêm informações importantes sobre qual prefixo de rede que um host pode utilizar, informações de roteamento, <em><a href=https://pt.wikipedia.org/wiki/Unidade_m%C3%A1xima_de_transmiss%C3%A3o>MTU (Maximum Transmission Unit)</a></em> e se o host deve ou não prosseguir com o processo de autoconfiguração de seu endereço IP. </li> </ul> </li> <li> <p><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.3>Neighbor Solicitation (NS)</a></p> <ul> <li>Os hosts enviam mensagens do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.3>NS</a></em> para solicitar o endereço da camada de enlace de um host de destino <em><a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>(MAC Address)</a></em>.</li> </ul> </li> <li> <p><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.4>Neighbor Advertisement (NA)</a></p> <ul> <li>Um host responde com mengens do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.4>NA</a></em>, que contêm seu endereço da camada de enlace, em resposta a solicitações do tipo <em><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.3>NS</a></em>.</li> </ul> </li> <li> <p><a href=https://www.rfc-editor.org/rfc/rfc4861#section-4.5>Redirect</a></p> <ul> <li>Utilizado para informar aos hosts da rede sobre a existência de um roteador alternativo que é mais preferencial ou mais próximo do host.</li> </ul> </li> </ul> <p>Assim como a tabela <em><a href=https://www.rfc-editor.org/rfc/rfc826>ARP</a></em> que é mantida pelo sistema operacional, o protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4861>NDP</a></em> também possui a sua própria tabela, cuja função também é associar endereços da camada de enlace aos seus respectivos endereços da camada de rede. No sistema operacional Linux, essa tabela pode ser consultada utilizando o seguinte comando:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span>
<span class=normal><a href=#__codelineno-2-2>2</a></span>
<span class=normal><a href=#__codelineno-2-3>3</a></span>
<span class=normal><a href=#__codelineno-2-4>4</a></span>
<span class=normal><a href=#__codelineno-2-5>5</a></span>
<span class=normal><a href=#__codelineno-2-6>6</a></span>
<span class=normal><a href=#__codelineno-2-7>7</a></span>
<span class=normal><a href=#__codelineno-2-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a>$<span class=w> </span>ip<span class=w> </span>-6<span class=w> </span>neigh<span class=w> </span>show
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2></a><span class=m>2803</span>:1111:abcf:1277:84e7:6c6c:1234:1234<span class=w> </span>dev<span class=w> </span>enp1s0<span class=w> </span>lladdr<span class=w> </span><span class=m>12</span>:34:56:78:9a:bc<span class=w> </span>STALE
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3></a>fe80::2412:acff:fe1a:8001<span class=w> </span>dev<span class=w> </span>enp2s0<span class=w> </span>lladdr<span class=w> </span><span class=m>98</span>:76:54:32:10:fe<span class=w> </span>STALE
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4></a>fe80::9b73:2b13:61d7:22a4<span class=w> </span>dev<span class=w> </span>enp1s0<span class=w> </span>lladdr<span class=w> </span>ab:cd:ef:12:34:56<span class=w> </span>STALE
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5></a>fe80::ead8:19ff:fe45:9b67<span class=w> </span>dev<span class=w> </span>enp1s0<span class=w> </span>FAILED
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6></a>fe80::200:5eff:fe00:101<span class=w> </span>dev<span class=w> </span>enp2s0<span class=w> </span>lladdr<span class=w> </span><span class=m>01</span>:23:45:67:89:ab<span class=w> </span>router<span class=w> </span>DELAY
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7></a>fe80::fa54:b8ff:fe20:d69<span class=w> </span>dev<span class=w> </span>enp1s0<span class=w> </span>lladdr<span class=w> </span><span class=m>12</span>:34:56:78:9a:bc<span class=w> </span>REACHABLE
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8></a>fe80::29b6:6794:2e86:2882<span class=w> </span>dev<span class=w> </span>enp1s0<span class=w> </span>lladdr<span class=w> </span><span class=m>56</span>:71:56:71:33:56<span class=w> </span>PROBE
</span></code></pre></div></td></tr></table></div> <p>Cada linha exibe o endereço de rede (IPv6), a interface de rede pela qual o endereço pode ser alcançado, o endereço da camada de enlace _<a href=https://pt.wikipedia.org/wiki/Endere%C3%A7o_MAC>(MAC Address)</a>_e seu status, que pode apresentar um dos seguintes valores:</p> <ul> <li> <p><strong>REACHABLE</strong> </p> <ul> <li>O endereço está acessível e é possível comunicar-se com ele.</li> </ul> </li> <li> <p><strong>STALE</strong> </p> <ul> <li>O endereço foi acessado anteriormente, mas não recentemente.</li> </ul> </li> <li> <p><strong>DELAY</strong> </p> <ul> <li>O endereço foi utilizado recentemente, mas o sistema está aguardando um intervalo antes de enviar novos pacotes para evitar congestionamento.</li> </ul> </li> <li> <p><strong>PROBE</strong> </p> <ul> <li>O sistema está verificando se o endereço ainda está ativo, geralmente após ter estado em STALE.</li> </ul> </li> <li> <p><strong>FAILED</strong> </p> <ul> <li>O endereço não está acessível.</li> </ul> </li> <li> <p><strong>PERMANENT</strong> </p> <ul> <li>A entrada é estática e não será verificada ou removida automaticamente pelo sistema.</li> </ul> </li> </ul> <p>Para o sistema operacional Windows, o comando equivalente é apresentado a seguir:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a>C:<span class=se>\&gt;</span>netsh<span class=w> </span>interface<span class=w> </span>ipv6<span class=w> </span>show<span class=w> </span>neighbors
</span></code></pre></div></td></tr></table></div> <h3 id=autoconfiguracao><strong>Autoconfiguração</strong></h3> <p><strong><em>Autoconfiguração</em></strong> é o termo que descreve a capacidade de um host de atribuir a si mesmo um endereço de rede, sem depender da presença de um servidor <em><a href=https://pt.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol>DHCP</a></em> ativo na rede. Esse método, que é extremamente útil e presente no IPv6, é conhecido como <em><a href=https://www.rfc-editor.org/rfc/rfc4862>SLAAC (Stateless Address Autoconfiguration)</a></em>, ou simplesmente <strong>autoconfiguração stateless</strong>. Assim como no IPv4, hosts IPv6 também podem contar com um servidor <em><a href=https://pt.wikipedia.org/wiki/DHCPv6>DHCPv6</a></em> ativo na rede, e esse modo de configuração é denominado <strong>autoconfiguração stateful</strong>.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O processo de autoconfiguração stateless é especificado na <em><a href=https://www.rfc-editor.org/rfc/rfc4862>RFC 4862</a></em>. Por outro lado, o <em><a href=https://pt.wikipedia.org/wiki/DHCPv6>DHCPv6</a></em> está especificado na <em><a href=https://www.rfc-editor.org/rfc/rfc8415>RFC 8415</a></em>.</p> </div> <p>Por fim, é importante mencionar que a configuração de endereços IPv6, independentemente de ser stateless, stateful ou manual, é validada por mais um processo do protocolo <em><a href=https://www.rfc-editor.org/rfc/rfc4861>NDP</a></em>, denominado <em><a href=https://www.rfc-editor.org/rfc/rfc4862#section-5.4>Duplicate Address Detection</a></em>. Esse processo tem a função de identificar endereços duplicados entre os dispositivos que compartilham o mesmo link de dados.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Para mais detalhes sobre a funcionalidade que detecta endereços duplicados, consulte a seção <em><a href=https://www.rfc-editor.org/rfc/rfc4862#section-5.4>5.4. Duplicate Address Detection</a></em> da <em><a href=https://www.rfc-editor.org/rfc/rfc4862>RFC 4862</a></em>.</p> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Daniel Armbrust. Todos os direitos reservados. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/daniel-armbrust/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>