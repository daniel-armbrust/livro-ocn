<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Guia Prático para Implantação de Aplicações Cloud Native na Oracle Cloud Infrastructure (OCI)."><meta name=author content="Daniel Armbrust (darmbrust@gmail.com)"><link href=https://ocn.dev.br/capitulo-3/gerenciando-o-oci-atraves-do-oci-cli/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Capítulo 3: OCI Foundations - OCN - Oracle Cloud Native</title><link rel=stylesheet href=../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Open Sans";--md-code-font:"Red Hat Mono"}</style><link rel=stylesheet href=../../css/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#capitulo-3-oci-foundations class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="OCN - Oracle Cloud Native" class="md-header__button md-logo" aria-label="OCN - Oracle Cloud Native" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OCN - Oracle Cloud Native </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Capítulo 3: OCI Foundations </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange aria-label="Light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__source> <a href=https://github.com/daniel-armbrust/livro-ocn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="OCN - Oracle Cloud Native" class="md-nav__button md-logo" aria-label="OCN - Oracle Cloud Native" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> OCN - Oracle Cloud Native </label> <div class=md-nav__source> <a href=https://github.com/daniel-armbrust/livro-ocn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../prefacio/ class=md-nav__link> <span class=md-ellipsis> Prefácio </span> </a> </li> <li class=md-nav__item> <a href=../../sobre-o-autor/ class=md-nav__link> <span class=md-ellipsis> Sobre o Autor </span> </a> </li> <li class=md-nav__item> <a href=../../como-usar-este-livro/ class=md-nav__link> <span class=md-ellipsis> Como usar este Livro </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-1/ class=md-nav__link> <span class=md-ellipsis> Capítulo 1 - Introdução à Computação em Nuvem </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-2/ class=md-nav__link> <span class=md-ellipsis> Capítulo 2 - Aplicação OCI PIZZA </span> </a> </li> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Capítulo 3 - OCI Foundations </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-4/ class=md-nav__link> <span class=md-ellipsis> Capítulo 4 - Serviços Auxiliares e Persistência de Dados </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-5/ class=md-nav__link> <span class=md-ellipsis> Capítulo 5 - Conectividade e Redes </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-6/ class=md-nav__link> <span class=md-ellipsis> Capítulo 6 - Contêineres, Docker e Funções </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-7/ class=md-nav__link> <span class=md-ellipsis> Capítulo 7 - Publicando a Aplicação na Web </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-8/ class=md-nav__link> <span class=md-ellipsis> Capítulo 8 - Oracle Kubernetes Engine (OKE) </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-9/ class=md-nav__link> <span class=md-ellipsis> Capítulo 9 - Serviço DevOps </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-10/ class=md-nav__link> <span class=md-ellipsis> Capítulo 10 - Monitoração e Observabilidade </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-11/ class=md-nav__link> <span class=md-ellipsis> Capítulo 11 - Infraestrutura como Código (IaC) </span> </a> </li> <li class=md-nav__item> <a href=../../apendice-a/ class=md-nav__link> <span class=md-ellipsis> Apêndice A - OCI HOWTOs </span> </a> </li> <li class=md-nav__item> <a href=../../bibliografia/ class=md-nav__link> <span class=md-ellipsis> Bibliografia </span> </a> </li> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> ChangeLog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=capitulo-3-oci-foundations>Capítulo 3: OCI Foundations</h1> <h1 id=35-gerenciando-o-oci-atraves-do-oci-cli>3.5 Gerenciando o OCI através do OCI CLI</h1> <h2 id=351-oracle-cloud-identifier-ocid>3.5.1 Oracle Cloud Identifier (OCID)</h2> <p>Antes de explorarmos os detalhes do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, é importante compreender um elemento essencial ao gerenciar recursos no OCI por meio de código.</p> <p>O <strong><em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>Oracle Cloud Identifier</a></em></strong>, comumente abreviado como <strong><em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em></strong>, é um identificador exclusivo atribuído a cada recurso dentro do OCI. Ele é utilizado para identificar de forma única recursos como instâncias de computação, redes virtuais, bancos de dados, volumes de armazenamento, entre outros.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Vale lembrar que os valores de <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> são utilizados em qualquer meio de acesso ao OCI, seja por meio do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, <em><a href=https://www.terraform.io/ >Terraform</a></em> ou <em><a href=https://docs.oracle.com/pt-br/iaas/Content/GSG/Concepts/console.htm>Web Console</a></em>. O <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> também é importante ao abrir uma solicitação de suporte à Oracle, pois é fundamental incluir os OCIDs dos recursos afetados por um problema.</p> </div> <p>Um <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> utiliza a seguinte sintaxe:</p> <p><img alt=alt_text src=../img/ocid-1.png title="OCID #1"></p> <ul> <li> <p><strong>ocid1</strong></p> <ul> <li>Indica a versão do <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em>.</li> </ul> </li> <li> <p><strong>RESOURCE TYPE</strong></p> <ul> <li>Identifica o tipo de recurso (como <em>instance</em>, <em>volume</em>, <em>vcn</em>, <em>user</em>, entre outros).</li> </ul> </li> <li> <p><strong>REALM</strong></p> <ul> <li>O termo <em>realm</em> é usado para designar um conjunto de regiões que compartilham entidades.<ul> <li><strong>oc1</strong>: <em>realm</em> que identifica recursos de uso comercial (usuários individuais, startups ou empresas).</li> <li><strong>oc2</strong>: <em>realm</em> que identifica recursos utilizados pelo <em><a href=https://docs.oracle.com/pt-br/iaas/Content/gov-cloud/govfedramp.htm#Regions>setor público</a></em>.</li> <li><strong>oc3</strong>: <em>realm</em> que identifica recursos utilizados pelo <em><a href=https://docs.oracle.com/pt-br/iaas/Content/gov-cloud/govfeddod.htm#US_Federal_Cloud_with_DISA_Impact_Level_5_Authorization_Console_Signin_URLs>setor público federal</a></em>. </li> </ul> </li> </ul> </li> <li> <p><strong>REGION</strong></p> <ul> <li>Indica a região do OCI onde o recurso está localizado.</li> </ul> </li> <li> <p><strong>FUTURE USE</strong></p> <ul> <li>Atualmente não utilizado e reservado para uso futuro.</li> </ul> </li> <li> <p><strong>UNIQUE ID</strong></p> <ul> <li>String alfanumérica gerada de forma exclusiva para criar a identificação única do recurso.</li> </ul> </li> </ul> <p>Por exemplo, o <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> que identifica de forma única um <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Compute/Concepts/computeoverview.htm>Compute Instance</a></em> tem o seguinte formato:</p> <p><img alt=alt_text src=../img/ocid-2.png title="OCID #2"></p> <p>Alguns <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCIDs</a></em> que identificam recursos globais omitem a parte que indica a região. Por exemplo, os <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCIDs</a></em> utilizados para identificar usuários, grupos, políticas, compartimentos e tenancy, não incluem a região:</p> <p><img alt=alt_text src=../img/ocid-3.png title="OCID #3"></p> <p>Além de sua função de identificação, os <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCIDs</a></em> são utilizados para atender a dependências ao criar um recurso. Por exemplo, para criar um <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/internet-gateway.html>Internet Gateway</a></em> por meio do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, é necessário fornecer tanto o <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> do compartimento <a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/internet-gateway/create.html#cmdoption-compartment-id><em>(--compartment-id)</em></a> quanto o OCID da VCN <a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/internet-gateway/create.html#cmdoption-vcn-id><em>(--vcn-id)</em></a>:</p> <p><img alt=alt_text src=../img/ocid-4.png title="OCID #4"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Lembre-se de que todos os valores de <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> utilizados nos exemplos do livro são fictícios e não funcionarão para você. Utilize os valores reais do seu Tenancy.</p> </div> <h2 id=352-instalacao-do-oci-cli>3.5.2 Instalação do OCI CLI</h2> <p>Para começar a utilizar o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, é necessário primeiro instalá-lo de acordo com o seu sistema operacional. No meu caso, o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> será instalado em um <strong><em><a href=https://www.oracle.com/linux/technologies/oracle-linux-downloads.html>Oracle Linux versão 8</a></em></strong>.</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a>$<span class=w> </span>cat<span class=w> </span>/etc/oracle-release
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>Oracle<span class=w> </span>Linux<span class=w> </span>Server<span class=w> </span>release<span class=w> </span><span class=m>8</span>.10
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O <em>Oracle Linux</em> é gratuito e pode ser baixado no site <em><a href=https://www.oracle.com/linux/technologies/oracle-linux-downloads.html>Oracle Linux Downloads</a></em>.</p> </div> <p><strong>1.</strong> Baixar o instalador do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> através do seguinte comando:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a>$<span class=w> </span>wget<span class=w> </span>https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh
</span></code></pre></div></td></tr></table></div> <p><strong>2.</strong> Execute o script que foi baixado com a opção <strong><em>"--accept-all-defaults"</em></strong> para realizar uma instalação em que todas as perguntas serão respondidas com os valores padrão:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a>$<span class=w> </span>sh<span class=w> </span>./install.sh<span class=w> </span>--accept-all-defaults
</span></code></pre></div></td></tr></table></div> <p><strong>3.</strong> Por fim, para verificar se o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> foi instalado com sucesso, basta executar o comando abaixo para exibir a sua versão:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span>
<span class=normal><a href=#__codelineno-3-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a>$<span class=w> </span>oci<span class=w> </span>-v
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2></a><span class=m>3</span>.52.1
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>A documentação disponível no link <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/SDKDocs/cliinstall.htm#Quickstart>Instalando a CLI</a></em> oferece mais informações sobre como instalar o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> em diferentes sistemas operacionais.</p> </div> <h3 id=atualizando-o-oci-cli><strong>Atualizando o OCI CLI</strong></h3> <p>É sempre recomendável verificar se estamos utilizando a versão mais recente do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> disponível.</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1>1</a></span>
<span class=normal><a href=#__codelineno-4-2>2</a></span>
<span class=normal><a href=#__codelineno-4-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1></a>$<span class=w> </span>oci<span class=w> </span>--latest-version
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2></a><span class=m>3</span>.53.0
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3></a>You<span class=w> </span>are<span class=w> </span>using<span class=w> </span>OCI<span class=w> </span>CLI<span class=w> </span>version<span class=w> </span><span class=m>3</span>.52.1,<span class=w> </span>however<span class=w> </span>version<span class=w> </span><span class=m>3</span>.53.0<span class=w> </span>is<span class=w> </span>available.<span class=w> </span>You<span class=w> </span>should<span class=w> </span>consider<span class=w> </span>upgrading<span class=w> </span>using<span class=w> </span>https://docs.oracle.com/iaas/Content/API/SDKDocs/cliupgrading.htm
</span></code></pre></div></td></tr></table></div> <p>Neste caso, o comando nos alertou sobre a necessidade de atualização. Além de corrigir bugs e implementar melhorias, a atualização também permite a interação com novos serviços do OCI.</p> <p>Para realizar a atualização, basta executar o comando abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1></a>$<span class=w> </span>pip3<span class=w> </span>install<span class=w> </span>oci-cli<span class=w> </span>--upgrade
</span></code></pre></div></td></tr></table></div> <p>Pronto! Agora podemos confirmar que a atualização do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> foi bem-sucedida, pois não há mais avisos relacionados à atualização de versão:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span>
<span class=normal><a href=#__codelineno-6-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a>$<span class=w> </span>oci<span class=w> </span>--latest-version
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2></a><span class=m>3</span>.53.0
</span></code></pre></div></td></tr></table></div> <h2 id=353-apis-do-oci>3.5.3 APIs do OCI</h2> <p>O OCI como todo provedor de computação em Nuvem, disponibilizam seus serviços através de um conjunto de diferentes APIs. </p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Todas as APIs disponibilizadas pelo OCI estão documentadas no link <em><a href=https://docs.oracle.com/en-us/iaas/api/#/ >API Reference and Endpoints</a></em>.</p> </div> <p>As APIs do OCI são públicas, acessíveis pela Internet por meio do protocolo <em>HTTPS</em>. Por exemplo, o conjunto de APIs denominado <em><a href=https://docs.oracle.com/en-us/iaas/api/#/en/iaas/latest/ >Core Services API</a></em>, permite gerenciar recursos como <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>VCN</a></em>, <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Compute/Concepts/computeoverview.htm>Compute Instances</a></em> e <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Block/Concepts/overview.htm>Block Storage</a></em>.</p> <p><img alt=alt_text src=../img/core-services-api-1.png title="Core Services API #1"> <br></p> <p>Todo serviço no OCI, disponível por meio de uma API, possui um <strong><em>endpoint</em></strong> exclusivo, que varia conforme a região. Para o <em><a href=https://docs.oracle.com/en-us/iaas/api/#/en/iaas/latest/ >Core Services API</a></em>, o <em>endpoint</em> correspondente é:</p> <p><img alt=alt_text src=../img/core-services-api-2.png title="Core Services API #2"> <br></p> <p>O fato de as APIs serem públicas, ou seja, possuírem um <em>endpoint</em> acessível pela Internet, não significa que qualquer pessoa possa criar ou excluir recursos. Por exemplo, ao tentar criar uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>VCN</a></em> sem uma credencial válida, a resposta obtida será <strong><em>"NotAuthenticated"</em></strong>, conforme abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1> 1</a></span>
<span class=normal><a href=#__codelineno-7-2> 2</a></span>
<span class=normal><a href=#__codelineno-7-3> 3</a></span>
<span class=normal><a href=#__codelineno-7-4> 4</a></span>
<span class=normal><a href=#__codelineno-7-5> 5</a></span>
<span class=normal><a href=#__codelineno-7-6> 6</a></span>
<span class=normal><a href=#__codelineno-7-7> 7</a></span>
<span class=normal><a href=#__codelineno-7-8> 8</a></span>
<span class=normal><a href=#__codelineno-7-9> 9</a></span>
<span class=normal><a href=#__codelineno-7-10>10</a></span>
<span class=normal><a href=#__codelineno-7-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a>$<span class=w> </span>curl<span class=w> </span>-X<span class=w> </span>POST<span class=w> </span>https://iaas.sa-saopaulo-1.oraclecloud.com/20160918/vcns<span class=w> </span><span class=se>\</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2></a>&gt;<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;Content-Type: application/json&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3></a>&gt;<span class=w> </span>-d<span class=w> </span><span class=s1>&#39;{</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4></a><span class=s1>&gt;   &quot;compartmentId&quot;: &quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;,</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5></a><span class=s1>&gt;   &quot;displayName&quot;: &quot;vcn-saopaulo&quot;,</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6></a><span class=s1>&gt;   &quot;cidrBlock&quot;: &quot;172.16.0.0/16&quot;</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7></a><span class=s1>&gt; }&#39;</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8></a><span class=o>{</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9></a><span class=w>  </span><span class=s2>&quot;code&quot;</span><span class=w> </span>:<span class=w> </span><span class=s2>&quot;NotAuthenticated&quot;</span>,
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10></a><span class=w>  </span><span class=s2>&quot;message&quot;</span><span class=w> </span>:<span class=w> </span><span class=s2>&quot;The required information to complete authentication was not provided or was incorrect.&quot;</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11></a><span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Existem alguns serviços que permitem a criação de endpoints privados que utilizam um endereço IP da sua sub-rede, como é o caso do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Object/Tasks/private-endpoints.htm>Object Storage</a></em>. Além disso, o recurso de rede <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/servicegateway.htm>Service Gateway</a></em> possibilita o acesso às APIs diretamente a partir de uma sub-rede no OCI, eliminando a necessidade de utilizar a Internet.</p> </div> <p>Para interagir com o OCI e criar recursos, é necessário ter um usuário que possa ser <em>autenticado</em> e <em>autorizado</em> com sucesso. Como inicialmente utilizaremos o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> e o <em><a href=https://www.terraform.io/ >Terraform</a></em> para criar recursos de infraestrutura, ambos requerem uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em> válida, que deve ser criada previamente.</p> <p>Iniciaremos pelo processo de <strong><em>autenticação</em></strong>, que envolve o uso de <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em>.</p> <h3 id=api-keys><strong>API Keys</strong></h3> <p>Uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em> é um conjunto de <em>chaves criptográficas</em> que servem tanto para o processo de <strong><em>autenticação</em></strong> quanto para <strong><em>assinar as requisições</em></strong> enviadas as APIs do OCI.</p> <p>Sem uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em>, que deve ser associada a um usuário válido, não é possível estabelecer comunicação com as APIs do OCI, seja por meio do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, <em><a href=https://www.terraform.io/ >Terraform</a></em> ou <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/developerquickstarts.htm>SDK</a></em>.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Inicialmente, para prosseguir com os comandos abordados no livro, a <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em> que será criada deve pertencer ao usuário <strong><em>Administrador do Tenancy</em></strong>, criado após a ativação da conta no OCI, conforme descrito na seção <em><a href=../criando-e-ativando-a-sua-conta-no-oci/ >"2.2 Criando e Ativando a sua Conta no OCI"</a></em>. Posteriormente, serão criados e configurados outros usuários com privilégios mais restritos.</p> </div> <p>É possível criar uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em> manualmente utilizando o utilitário <em><a href=https://www.openssl.org/ >OpenSSL</a></em>, mas a criação é mais simples e prática por meio da <em><a href=https://docs.oracle.com/pt-br/iaas/Content/GSG/Concepts/console.htm>Web Console</a></em>.</p> <p>Para criar uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em> para um usuário específico por meio da <em><a href=https://docs.oracle.com/pt-br/iaas/Content/GSG/Concepts/console.htm>Web Console</a></em>, siga o passo a passo abaixo:</p> <p><strong>1.</strong> Acessar o perfil do usuário no canto superior direito da <em>Web Console</em>:</p> <p><img alt=alt_text src=../img/api-key-1.png title="API Key #1"> <br></p> <p><strong>2.</strong> Dentro do perfil do usuário, no canto inferior esquerdo, selecione <strong><em>API keys</em></strong> e, em seguida, clique no botão <strong><em>Add API key</em></strong>:</p> <p><img alt=alt_text src=../img/api-key-2.png title="API Key #1"> <br></p> <p><strong>3.</strong> Na tela <strong><em>Add API key</em></strong>, selecione <strong><em>Generate API key pair</em></strong> e, em seguida, faça o <em>download</em> e salve em um local seguro tanto a <em>Private Key</em> quanto a <em>Public Key</em>:</p> <p><img alt=alt_text src=../img/api-key-3.png title="API Key #3"> <br></p> <p><strong>4.</strong> Clique no botão <strong><em>Add</em></strong> para concluir a adição da <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em>:</p> <p><img alt=alt_text src=../img/api-key-4.png title="API Key #4"> <br></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Um usuário pode ter no máximo três <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Keys</a></em>.</p> </div> <p><strong>5.</strong> Por fim, o OCI exibe um conjunto de informações que devem ser inseridas no arquivo <strong><em>"~/.oci/config"</em></strong> para serem utilizadas pelo <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>:</p> <p><img alt=alt_text src=../img/api-key-5.png title="API Key #5"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>A partir deste ponto, a sequência de comandos via <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> que utilizaremos ao longo do livro, requer que o usuário seja membro do grupo <strong><em>Administrators</em></strong>. No caso, o usuário <strong><em>darmbrust@gmail.com</em></strong>, especificado durante o processo de registro da conta, foi adicionado automaticamente pelo OCI no grupo <strong><em>Administrators</em></strong>. Mais detalhes serão apresentados no capítulo <em><a href=./iam-limites-e-quotas.md>"2.6 IAM, Limites e Quotas"</a></em>.</p> </div> <p><img alt=alt_text src=../img/oci-admin-group-1.png title="Administrators Group"></p> <h3 id=utilizando-a-api-key-com-o-oci-cli><strong>Utilizando a API Key com o OCI CLI</strong></h3> <p><strong>1.</strong> Crie o diretório <strong><em>"~/.oci"</em></strong> e depois o arquivo <strong><em>config"</em></strong> dentro dele:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span>
<span class=normal><a href=#__codelineno-8-2>2</a></span>
<span class=normal><a href=#__codelineno-8-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a>$<span class=w> </span>mkdir<span class=w> </span>.oci
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2></a>$<span class=w> </span>touch<span class=w> </span>.oci/config
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3></a>$<span class=w> </span>chmod<span class=w> </span><span class=m>0400</span><span class=w> </span>.oci/config
</span></code></pre></div></td></tr></table></div> <p><strong>2.</strong> Insira o conjunto de informações fornecidas anteriormente <strong><em>(API Keys - item 5)</em></strong> no arquivo <strong><em>"~/.oci/config"</em></strong>. O conteúdo deste arquivo deve ser semelhante a isto:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1>1</a></span>
<span class=normal><a href=#__codelineno-9-2>2</a></span>
<span class=normal><a href=#__codelineno-9-3>3</a></span>
<span class=normal><a href=#__codelineno-9-4>4</a></span>
<span class=normal><a href=#__codelineno-9-5>5</a></span>
<span class=normal><a href=#__codelineno-9-6>6</a></span>
<span class=normal><a href=#__codelineno-9-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1></a>$<span class=w> </span>cat<span class=w> </span>~/.oci/config
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2></a><span class=o>[</span>DEFAULT<span class=o>]</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3></a><span class=nv>key_file</span><span class=o>=</span>/home/darmbrust/.oci/api.key
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4></a><span class=nv>user</span><span class=o>=</span>ocid1.user.oc1..aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5></a><span class=nv>fingerprint</span><span class=o>=</span>4f:f7:42:44:f6:c1:bc:2b:da:dd:fd:d5:43:28:e1:9a
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6></a><span class=nv>tenancy</span><span class=o>=</span>ocid1.tenancy.oc1..aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7></a><span class=nv>region</span><span class=o>=</span>sa-saopaulo-1
</span></code></pre></div></td></tr></table></div> <p><strong>3.</strong> Dentro do diretório <strong><em>"~/.oci"</em></strong>, crie o arquivo <strong><em>"api.key"</em></strong>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1>1</a></span>
<span class=normal><a href=#__codelineno-10-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1></a>$<span class=w> </span>touch<span class=w> </span>.oci/api.key
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2></a>$<span class=w> </span>chmod<span class=w> </span><span class=m>0400</span><span class=w> </span>.oci/api.key
</span></code></pre></div></td></tr></table></div> <p><strong>4.</strong> Transfira o conteúdo da <strong><em>chave privada</em></strong> que foi baixada anteriormente <strong><em>(API Keys - item 3)</em></strong> para o arquivo <strong><em>"~/.oci/api.key"</em></strong>. O conteúdo deste arquivo deve ser semelhante a isto:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span>
<span class=normal><a href=#__codelineno-11-2>2</a></span>
<span class=normal><a href=#__codelineno-11-3>3</a></span>
<span class=normal><a href=#__codelineno-11-4>4</a></span>
<span class=normal><a href=#__codelineno-11-5>5</a></span>
<span class=normal><a href=#__codelineno-11-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a>$<span class=w> </span>cat<span class=w> </span>~/.oci/api.key
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2></a>-----BEGIN<span class=w> </span>PRIVATE<span class=w> </span>KEY-----
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3></a>MIIMIIMRGDkRGDkRGDkRGDkRGDkRGDkMIIMIIMIIMIRGDkMIIMIIMIIMIRGDk
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4></a>RGDkRGDkRGDkRGDkRGDkMIIMIIMIIMIRGDkMIIMIIMIIMIRGDk
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5></a>-----END<span class=w> </span>PRIVATE<span class=w> </span>KEY-----
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6></a>OCI_API_KEY
</span></code></pre></div></td></tr></table></div> <p><strong>5.</strong> Teste a comunicação do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> ao OCI através de um simples comando:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1>1</a></span>
<span class=normal><a href=#__codelineno-12-2>2</a></span>
<span class=normal><a href=#__codelineno-12-3>3</a></span>
<span class=normal><a href=#__codelineno-12-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a>$<span class=w> </span>oci<span class=w> </span>os<span class=w> </span>ns<span class=w> </span>get
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a><span class=o>{</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a><span class=w>  </span><span class=s2>&quot;data&quot;</span>:<span class=w> </span><span class=s2>&quot;WYYdXX82dnaS&quot;</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a><span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Lembre-se de que todos os valores retornados pelo OCI nos exemplos apresentados aqui para a configuração do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> são fictícios e não funcionarão para você. Para configurar o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> corretamente, utilize os valores reais fornecidos pelo seu <em>Tenancy</em>.</p> </div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Nos exemplos apresentados no livro, o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> sempre utilizará o conjunto de configurações <strong><em>DEFAULT</em></strong>, conforme indicado por <strong><em>[DEFAULT]</em></strong> no arquivo <strong><em>"~/.oci/config"</em></strong>. No entanto, você pode usar o parâmetro global <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-profile>--profile</a></em></strong> para especificar um conjunto diferente de configurações.</p> </div> <h2 id=354-trabalhando-com-o-oci-cli>3.5.4 Trabalhando com o OCI CLI</h2> <p>Após o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> estar devidamente instalado e funcionando com as configurações do seu <em>Tenancy</em>, é hora de entender em como trabalhar diretamente com o OCI através do OCI CLI.</p> <p>Criar e gerenciar sua infraestrutura no OCI utilizando <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> ou <em><a href=https://www.terraform.io/ >Terraform</a></em> é mais rápido do que realizar operações manualmente através de cliques na <em>Web Console</em>. Além disso, ao trabalhar com código, você pode automatizar tarefas repetitivas, versionar suas configurações para acompanhar alterações, reverter para versões anteriores quando necessário e facilitar a colaboração com outros membros da equipe.</p> <p>Para demonstrar a utilização do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, apresentarei a criação de uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>VCN (Virtual Cloud Network)</a></em> por meio de uma sequência de etapas.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Os recursos de rede do OCI, incluindo a <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>VCN (Virtual Cloud Network)</a></em>, serão abordados no <em><a href=../../capitulo-4/ >Capítulo 4: Conectividade e Redes</a></em>.</p> </div> <p><strong>1.</strong> O primeiro passo é localizar o recurso desejado no link <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/index.html#>Oracle Cloud Infrastructure CLI Command Reference</a></em>. Os recursos disponíveis de redes no OCI, incluindo a VCN, estes estão contidos em <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network.html>Networking Service (network)</a></em>:</p> <p><img alt=alt_text src=../img/oci-cli-network-1.png title="OCI CLI Network VCN #1"> <br></p> <p><strong>2.</strong> Dentro de <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network.html>Networking Service (network)</a></em>, você encontrará diversos comandos relacionados aos diferentes recursos de rede disponíveis no OCI. Para o nosso exemplo, iremos utilizar a <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>vcn</a></em>:</p> <p><img alt=alt_text src=../img/oci-cli-network-2.png title="OCI CLI Network VCN #2"> <br></p> <p><strong>3.</strong> Cada recurso no OCI que pode ser gerenciado pelo <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> possui um conjunto específico de <strong><em>comandos ou ações</em></strong> que podem ser invocadas, permitindo a criação, modificação ou alteração desse recurso. Para a <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>vcn</a></em>, utilizaremos a ação <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html>create</a></em>:</p> <p><img alt=alt_text src=../img/oci-cli-network-3.png title="OCI CLI Network VCN #3"> <br></p> <p><strong>4.</strong> Dentro do comando ou ação, além da descrição e do exemplo de uso, você encontrará os <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html#required-parameters>Parâmetros Obrigatórios (Required Parameters)</a></em>, os <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html#required-parameters>Parâmetros Opcionais (Optional Parameters)</a></em> e os <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html#required-parameters>Parâmetros Globais (Global Parameters)</a></em>, que determinam as propriedades do recurso a ser criado ou modificado:</p> <p><img alt=alt_text src=../img/oci-cli-network-4.png title="OCI CLI Network VCN #4"> <br></p> <h3 id=parametros-globais><strong>Parâmetros Globais</strong></h3> <p>Os <strong><em>parâmetros globais</em></strong> como o própio nome diz, são globais pois podem ser usados juntos com qualquer outro comando do OCI CLI. </p> <p><img alt=alt_text src=../img/oci-cli-params-3.png title="OCI CLI Parâmetros #3"> <br></p> <p>Para os exemplos apresentados no livro, os <strong><em>parâmetros globais</em></strong> mais utilizados são:</p> <ul> <li><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-region>--region</a></li> </ul> <p>Permite especificar a região do OCI onde ocorrerá a interação com um determinado recurso.</p> <ul> <li><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-query>--query</a></li> </ul> <p>Parâmetro utilizado para filtrar a resposta <em>JSON</em> recebida do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>. A filtragem é especialmente útil ao lidar com grandes volumes de informações vindas através do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>. </p> <p>Esta opção utiliza a linguagem de consulta <strong><em><a href=https://jmespath.org/ >JMESPath</a></em></strong> para manipulação de <em>JSON</em>. </p> <p>Por exemplo, o comando abaixo utiliza a opção <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-query>--query</a></em></strong> para listar as <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>VCNs</a></em> cujo nome contém <em>"vcn-saopaulo"</em>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1>1</a></span>
<span class=normal><a href=#__codelineno-13-2>2</a></span>
<span class=normal><a href=#__codelineno-13-3>3</a></span>
<span class=normal><a href=#__codelineno-13-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a>$<span class=w> </span>oci<span class=w> </span>network<span class=w> </span>vcn<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a>&gt;<span class=w> </span>--all<span class=w> </span><span class=se>\</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a>&gt;<span class=w> </span>--query<span class=w> </span><span class=s2>&quot;data [?contains(\&quot;display-name\&quot;,&#39;vcn-saopaulo&#39;)]&quot;</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Consulte a página do <strong><em><a href=https://jmespath.org/ >JMESPath</a></em></strong> para explorar opções mais avançadas relacionadas aos filtros <em>JSON</em>.</p> </div> <h3 id=parametros-simples-e-complexos><strong>Parâmetros Simples e Complexos</strong></h3> <p>Tanto um parâmetro sendo obrigatório ou opcional, pode aceitar um <strong><em>valor simples</em></strong> ou <strong><em>complexo</em></strong>. O <em>valor simples</em> é um único valor, que pode ser um texto, um número ou um valor booleano. Por outro lado, o <em>valor complexo</em> deve ser fornecido no formato <em>JSON</em>, que pode combinar diferentes tipos de valores, como texto, número e booleano.</p> <p><img alt=alt_text src=../img/oci-cli-params-1.png title="OCI CLI Parâmetros #1"> <br></p> <p>É possível utilizar o parâmetro global <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-generate-param-json-input>--generate-param-json-input</a></em></strong> para gerar a estrutura do valor <em>JSON</em> que um determinado parâmetro complexo espera receber. Por exemplo, o parâmetro <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html#cmdoption-cidr-blocks>--cidr-blocks</a></em></strong> espera receber uma lista de valores do tipo string (array de strings) quando especificado:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1>1</a></span>
<span class=normal><a href=#__codelineno-14-2>2</a></span>
<span class=normal><a href=#__codelineno-14-3>3</a></span>
<span class=normal><a href=#__codelineno-14-4>4</a></span>
<span class=normal><a href=#__codelineno-14-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1></a>$<span class=w> </span>oci<span class=w> </span>network<span class=w> </span>vcn<span class=w> </span>create<span class=w> </span>--generate-param-json-input<span class=w> </span>cidr-blocks
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2></a><span class=o>[</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3></a><span class=w>  </span><span class=s2>&quot;string&quot;</span>,
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4></a><span class=w>  </span><span class=s2>&quot;string&quot;</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5></a><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Todo parâmetro utilizado como valor do <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-generate-param-json-input>--generate-param-json-input</a></em></strong> não deve ser precedido pelos dois traços (--). Por exemplo, o parâmetro complexo <strong><em>--cidr-blocks</em></strong> deve ser referenciado apenas como <strong><em>cidr-blocks</em></strong> ao ser usado como valor do <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/oci.html#cmdoption-generate-param-json-input>--generate-param-json-input</a></em></strong>.</p> </div> <h3 id=ciclo-de-vida-lifecycle><strong>Ciclo de Vida (Lifecycle)</strong></h3> <p>Muitos recursos do OCI possuem o chamado <strong><em>"Ciclo de Vida" (Lifecycle)</em></strong>, que indica o <strong><em>estado atual</em></strong> de um determinado recurso. É por meio desse <em>"ciclo de vida"</em> que é possível determinar se um recurso já está disponível para uso ou se ainda está em processo de criação, atualização ou exclusão.</p> <p>Por exemplo, quando um recurso é solicitado para criação, ele não é criado imediatamente. Após o OCI receber a instrução de criação, essa solicitação é colocada em uma <em>fila de processamento</em>. Se tudo ocorrer conforme o esperado, o recurso é então criado e disponibilizado para uso. Esse processo não se aplica apenas à ação de <em>"criar"</em>, ações de <em>"exclusão"</em> ou <em>"atualização"</em> também são submetidas a uma fila de processamento.</p> <p>É importante destacar que, durante as etapas do <em>"ciclo de vida"</em>, diversas outras atividades são realizadas, como a verificação das permissões do usuário que está solicitando a criação e a confirmação da disponibilidade de recursos computacionais. </p> <p>Você verá que é importante saber lidar com essas operações assíncronas que ocorrem durante o <em>"ciclo de vida"</em> de um recurso, em scripts que utilizam o OCI CLI para criar outros recursos. Por exemplo, não é possível criar um <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Compute/Concepts/computeoverview.htm>Compute Instances</a></em> sem que uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>sub-rede</a></em> e uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/Overview_of_VCNs_and_Subnets.htm>VCN</a></em> estejam no estado <em>AVAILABLE</em>.</p> <p>O parâmetro <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html#cmdoption-wait-for-state>--wait-for-state</a></em></strong>, disponível na maioria dos recursos, pode ser usado para <strong><em>aguardar a conclusão</em></strong> de uma determinada etapada do <em>"ciclo de vida"</em> antes de <em>liberar o shell</em> para execução de um próximo comando. </p> <p><img alt=alt_text src=../img/oci-cli-params-2.png title="OCI CLI Parâmetros #2"> <br></p> <p>O significado de cada etapa do <em>"ciclo de vida"</em> da <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>vcn</a></em> é descrito a seguir:</p> <ul> <li> <p><strong>AVAILABLE</strong></p> <ul> <li>A <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> está pronta e disponível para ser utilizada.</li> </ul> </li> <li> <p><strong>PROVISIONING</strong></p> <ul> <li>Esse estado indica que o comando para criar a <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> foi aceito pelo OCI, e o recurso agora está na fila de criação ou provisionamento.</li> </ul> </li> <li> <p><strong>UPDATING</strong></p> <ul> <li>A <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> encontra-se em em processo de atualização.</li> </ul> </li> <li> <p><strong>TERMINATING</strong></p> <ul> <li>Esse estado indica que a <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> entrou em processo de exclusão ou terminate.</li> </ul> </li> <li> <p><strong>TERMINATED</strong></p> <ul> <li>A <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> foi excluída com sucesso e não existe mais.</li> </ul> </li> </ul> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Sempre consulte a documentação do recurso que você deseja gerenciar para entender os estados do seu <em>"ciclo de vida"</em>. Por exemplo, os estados disponíveis de uma <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> são completamente diferentes dos estados de um <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/container-instances/container-instance/create.html>Container Instance</a></em>, que incluem <em>ACCEPTED</em>, <em>CANCELED</em>, <em>CANCELING</em>, <em>FAILED</em>, <em>IN_PROGRESS</em> e <em>SUCCEEDED</em>. </p> </div> <h3 id=exemplo-criando-e-consultando-informacoes-sobre-uma-vcn><strong>Exemplo: Criando e Consultando Informações sobre uma VCN</strong></h3> <p>O comando a seguir pode ser utilizado para criar uma <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1>1</a></span>
<span class=normal><a href=#__codelineno-15-2>2</a></span>
<span class=normal><a href=#__codelineno-15-3>3</a></span>
<span class=normal><a href=#__codelineno-15-4>4</a></span>
<span class=normal><a href=#__codelineno-15-5>5</a></span>
<span class=normal><a href=#__codelineno-15-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1></a>$<span class=w> </span>oci<span class=w> </span>network<span class=w> </span>vcn<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4></a>&gt;<span class=w> </span>--cidr-blocks<span class=w> </span><span class=s2>&quot;[&#39;10.100.0.0/16&#39;, &#39;192.168.0.0/24&#39;]&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;vcn-saopaulo&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6></a>&gt;<span class=w> </span>--wait-for-state<span class=w> </span><span class=s2>&quot;AVAILABLE&quot;</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>A interação com a maioria dos recursos por meio do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em> requer o parâmetro <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/create.html#cmdoption-compartment-id>--compartment-id</a></em>. Na seção <em><a href=./iam-limites-e-quotas.md>2.6 IAM, Limites e Quotas</a></em>, abordaremos o que são <em>compartments</em> e como utilizá-los.</p> </div> <p>Observe que, após a execução do comando, é exibida a seguinte mensagem:</p> <div align=center style="font-weight: bold; font-style: italic;"> Action completed. Waiting until the resource has entered state: ('AVAILABLE',) </div> <p>Isso significa que o comando aguardará até que a <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> atinja o estado <em>AVAILABLE</em> antes de liberar o shell novamente.</p> <p>Após a conclusão bem-sucedida da execução, uma resposta do OCI em formato <em>JSON</em> será retornada que incluem algumas informações referente a <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> que acaba de ser criada:</p> <div class="language-json highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1> 1</a></span>
<span class=normal><a href=#__codelineno-16-2> 2</a></span>
<span class=normal><a href=#__codelineno-16-3> 3</a></span>
<span class=normal><a href=#__codelineno-16-4> 4</a></span>
<span class=normal><a href=#__codelineno-16-5> 5</a></span>
<span class=normal><a href=#__codelineno-16-6> 6</a></span>
<span class=normal><a href=#__codelineno-16-7> 7</a></span>
<span class=normal><a href=#__codelineno-16-8> 8</a></span>
<span class=normal><a href=#__codelineno-16-9> 9</a></span>
<span class=normal><a href=#__codelineno-16-10>10</a></span>
<span class=normal><a href=#__codelineno-16-11>11</a></span>
<span class=normal><a href=#__codelineno-16-12>12</a></span>
<span class=normal><a href=#__codelineno-16-13>13</a></span>
<span class=normal><a href=#__codelineno-16-14>14</a></span>
<span class=normal><a href=#__codelineno-16-15>15</a></span>
<span class=normal><a href=#__codelineno-16-16>16</a></span>
<span class=normal><a href=#__codelineno-16-17>17</a></span>
<span class=normal><a href=#__codelineno-16-18>18</a></span>
<span class=normal><a href=#__codelineno-16-19>19</a></span>
<span class=normal><a href=#__codelineno-16-20>20</a></span>
<span class=normal><a href=#__codelineno-16-21>21</a></span>
<span class=normal><a href=#__codelineno-16-22>22</a></span>
<span class=normal><a href=#__codelineno-16-23>23</a></span>
<span class=normal><a href=#__codelineno-16-24>24</a></span>
<span class=normal><a href=#__codelineno-16-25>25</a></span>
<span class=normal><a href=#__codelineno-16-26>26</a></span>
<span class=normal><a href=#__codelineno-16-27>27</a></span>
<span class=normal><a href=#__codelineno-16-28>28</a></span>
<span class=normal><a href=#__codelineno-16-29>29</a></span>
<span class=normal><a href=#__codelineno-16-30>30</a></span>
<span class=normal><a href=#__codelineno-16-31>31</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a><span class=p>{</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2></a><span class=w>  </span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3></a><span class=w>    </span><span class=nt>&quot;byoipv6-cidr-blocks&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4></a><span class=w>    </span><span class=nt>&quot;cidr-block&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;10.100.0.0/16&quot;</span><span class=p>,</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5></a><span class=w>    </span><span class=nt>&quot;cidr-blocks&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6></a><span class=w>      </span><span class=s2>&quot;10.100.0.0/16&quot;</span><span class=p>,</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7></a><span class=w>      </span><span class=s2>&quot;192.168.0.0/24&quot;</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9></a><span class=w>    </span><span class=nt>&quot;compartment-id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=p>,</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10></a><span class=w>    </span><span class=nt>&quot;default-dhcp-options-id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ocid1.dhcpoptions.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=p>,</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11></a><span class=w>    </span><span class=nt>&quot;default-route-table-id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ocid1.routetable.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=p>,</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12></a><span class=w>    </span><span class=nt>&quot;default-security-list-id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ocid1.securitylist.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=p>,</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13></a><span class=w>    </span><span class=nt>&quot;defined-tags&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14></a><span class=w>      </span><span class=nt>&quot;Oracle-Tags&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15></a><span class=w>        </span><span class=nt>&quot;CreatedBy&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;default/darmbrust@gmail.com&quot;</span><span class=p>,</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16></a><span class=w>        </span><span class=nt>&quot;CreatedOn&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2025-03-24T18:34:10.160Z&quot;</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19></a><span class=w>    </span><span class=nt>&quot;display-name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;vcn-saopaulo&quot;</span><span class=p>,</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20></a><span class=w>    </span><span class=nt>&quot;dns-label&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
</span><span id=__span-16-21><a id=__codelineno-16-21 name=__codelineno-16-21></a><span class=w>    </span><span class=nt>&quot;freeform-tags&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
</span><span id=__span-16-22><a id=__codelineno-16-22 name=__codelineno-16-22></a><span class=w>    </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ocid1.vcn.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=p>,</span>
</span><span id=__span-16-23><a id=__codelineno-16-23 name=__codelineno-16-23></a><span class=w>    </span><span class=nt>&quot;ipv6-cidr-blocks&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
</span><span id=__span-16-24><a id=__codelineno-16-24 name=__codelineno-16-24></a><span class=w>    </span><span class=nt>&quot;ipv6-private-cidr-blocks&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
</span><span id=__span-16-25><a id=__codelineno-16-25 name=__codelineno-16-25></a><span class=w>    </span><span class=nt>&quot;lifecycle-state&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;AVAILABLE&quot;</span><span class=p>,</span>
</span><span id=__span-16-26><a id=__codelineno-16-26 name=__codelineno-16-26></a><span class=w>    </span><span class=nt>&quot;security-attributes&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
</span><span id=__span-16-27><a id=__codelineno-16-27 name=__codelineno-16-27></a><span class=w>    </span><span class=nt>&quot;time-created&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2025-03-24T18:34:10.244000+00:00&quot;</span><span class=p>,</span>
</span><span id=__span-16-28><a id=__codelineno-16-28 name=__codelineno-16-28></a><span class=w>    </span><span class=nt>&quot;vcn-domain-name&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span>
</span><span id=__span-16-29><a id=__codelineno-16-29 name=__codelineno-16-29></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-16-30><a id=__codelineno-16-30 name=__codelineno-16-30></a><span class=w>  </span><span class=nt>&quot;etag&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;4aba8b9d&quot;</span>
</span><span id=__span-16-31><a id=__codelineno-16-31 name=__codelineno-16-31></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>O <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> da <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em> recém-criada está disponível na chave <strong><em>id</em></strong>. Com esse identificador, você pode consultar os detalhes relacionados à <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCN</a></em>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-17-1>1</a></span>
<span class=normal><a href=#__codelineno-17-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1></a>$<span class=w> </span>oci<span class=w> </span>network<span class=w> </span>vcn<span class=w> </span>get<span class=w> </span><span class=se>\</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2></a>&gt;<span class=w> </span>--vcn-id<span class=w> </span><span class=s2>&quot;ocid1.vcn.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>
</span></code></pre></div></td></tr></table></div> <p>Outra maneira de obter o <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> dos recursos é através do comando <strong><em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn/list.html>"list"</a></em></strong>. No exemplo abaixo, serão retornados todos os <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCIDs</a></em> das <em><a href=https://docs.oracle.com/en-us/iaas/tools/oci-cli/3.53.0/oci_cli_docs/cmdref/network/vcn.html>VCNs</a></em> que estão criadas no compartimento especificado:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-18-1>1</a></span>
<span class=normal><a href=#__codelineno-18-2>2</a></span>
<span class=normal><a href=#__codelineno-18-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1></a>$<span class=w> </span>oci<span class=w> </span>network<span class=w> </span>vcn<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3></a>&gt;<span class=w> </span>--all
</span></code></pre></div></td></tr></table></div> <h2 id=355-work-request>3.5.5 Work Request</h2> <p>Vimos que a maioria dos recursos possuem um <em>"ciclo de vida"</em>, que indica diferentes etapas pelas quais o recurso passa antes de concluir uma ação solicitada pelo usuário.</p> <p>As ações que não produzem resultados imediatos geram o que é conhecido como <strong><em>Work Request</em></strong>, que é um <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> utilizado para consultar informações relacionadas a uma etapa específica do <em>"ciclo de vida"</em>. Isso ocorre porque solicitações que não têm resultados imediatos são <strong><em>assíncronas</em></strong> e podem levar um tempo indeterminado para serem concluídas com sucesso.</p> <p>Por exemplo, ao criar o componente de rede <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Network/Tasks/managingDRGs.htm#overview>DRG</a></em>, o resultado da operação inclui o campo <strong><em>opc-work-request-id</em></strong>, que indica o <em><a href=https://docs.oracle.com/en-us/iaas/Content/General/Concepts/identifiers.htm#Oracle>OCID</a></em> do <strong><em>Work Request</em></strong>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-19-1> 1</a></span>
<span class=normal><a href=#__codelineno-19-2> 2</a></span>
<span class=normal><a href=#__codelineno-19-3> 3</a></span>
<span class=normal><a href=#__codelineno-19-4> 4</a></span>
<span class=normal><a href=#__codelineno-19-5> 5</a></span>
<span class=normal><a href=#__codelineno-19-6> 6</a></span>
<span class=normal><a href=#__codelineno-19-7> 7</a></span>
<span class=normal><a href=#__codelineno-19-8> 8</a></span>
<span class=normal><a href=#__codelineno-19-9> 9</a></span>
<span class=normal><a href=#__codelineno-19-10>10</a></span>
<span class=normal><a href=#__codelineno-19-11>11</a></span>
<span class=normal><a href=#__codelineno-19-12>12</a></span>
<span class=normal><a href=#__codelineno-19-13>13</a></span>
<span class=normal><a href=#__codelineno-19-14>14</a></span>
<span class=normal><a href=#__codelineno-19-15>15</a></span>
<span class=normal><a href=#__codelineno-19-16>16</a></span>
<span class=normal><a href=#__codelineno-19-17>17</a></span>
<span class=normal><a href=#__codelineno-19-18>18</a></span>
<span class=normal><a href=#__codelineno-19-19>19</a></span>
<span class=normal><a href=#__codelineno-19-20>20</a></span>
<span class=normal><a href=#__codelineno-19-21>21</a></span>
<span class=normal><a href=#__codelineno-19-22>22</a></span>
<span class=normal><a href=#__codelineno-19-23>23</a></span>
<span class=normal><a href=#__codelineno-19-24>24</a></span>
<span class=normal><a href=#__codelineno-19-25>25</a></span>
<span class=normal><a href=#__codelineno-19-26>26</a></span>
<span class=normal><a href=#__codelineno-19-27>27</a></span>
<span class=normal><a href=#__codelineno-19-28>28</a></span>
<span class=normal><a href=#__codelineno-19-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1></a>$<span class=w> </span>oci<span class=w> </span>network<span class=w> </span>drg<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;drg&quot;</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5></a><span class=o>{</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6></a><span class=w>  </span><span class=s2>&quot;data&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7></a><span class=w>    </span><span class=s2>&quot;compartment-id&quot;</span>:<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>,
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8></a><span class=w>    </span><span class=s2>&quot;default-drg-route-tables&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9></a><span class=w>      </span><span class=s2>&quot;ipsec-tunnel&quot;</span>:<span class=w> </span>null,
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10></a><span class=w>      </span><span class=s2>&quot;remote-peering-connection&quot;</span>:<span class=w> </span>null,
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11></a><span class=w>      </span><span class=s2>&quot;vcn&quot;</span>:<span class=w> </span>null,
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12></a><span class=w>      </span><span class=s2>&quot;virtual-circuit&quot;</span>:<span class=w> </span>null
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13></a><span class=w>    </span><span class=o>}</span>,
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14></a><span class=w>    </span><span class=s2>&quot;default-export-drg-route-distribution-id&quot;</span>:<span class=w> </span>null,
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15></a><span class=w>    </span><span class=s2>&quot;defined-tags&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16></a><span class=w>      </span><span class=s2>&quot;Oracle-Tags&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17></a><span class=w>        </span><span class=s2>&quot;CreatedBy&quot;</span>:<span class=w> </span><span class=s2>&quot;default/darmbrust@gmail.com&quot;</span>,
</span><span id=__span-19-18><a id=__codelineno-19-18 name=__codelineno-19-18></a><span class=w>        </span><span class=s2>&quot;CreatedOn&quot;</span>:<span class=w> </span><span class=s2>&quot;2025-03-24T19:27:04.790Z&quot;</span>
</span><span id=__span-19-19><a id=__codelineno-19-19 name=__codelineno-19-19></a><span class=w>      </span><span class=o>}</span>
</span><span id=__span-19-20><a id=__codelineno-19-20 name=__codelineno-19-20></a><span class=w>    </span><span class=o>}</span>,
</span><span id=__span-19-21><a id=__codelineno-19-21 name=__codelineno-19-21></a><span class=w>    </span><span class=s2>&quot;display-name&quot;</span>:<span class=w> </span><span class=s2>&quot;drg&quot;</span>,
</span><span id=__span-19-22><a id=__codelineno-19-22 name=__codelineno-19-22></a><span class=w>    </span><span class=s2>&quot;freeform-tags&quot;</span>:<span class=w> </span><span class=o>{}</span>,
</span><span id=__span-19-23><a id=__codelineno-19-23 name=__codelineno-19-23></a><span class=w>    </span><span class=s2>&quot;id&quot;</span>:<span class=w> </span><span class=s2>&quot;ocid1.drg.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>,
</span><span id=__span-19-24><a id=__codelineno-19-24 name=__codelineno-19-24></a><span class=w>    </span><span class=s2>&quot;lifecycle-state&quot;</span>:<span class=w> </span><span class=s2>&quot;PROVISIONING&quot;</span>,
</span><span id=__span-19-25><a id=__codelineno-19-25 name=__codelineno-19-25></a><span class=w>    </span><span class=s2>&quot;time-created&quot;</span>:<span class=w> </span><span class=s2>&quot;2025-03-24T19:27:04.818000+00:00&quot;</span>
</span><span id=__span-19-26><a id=__codelineno-19-26 name=__codelineno-19-26></a><span class=w>  </span><span class=o>}</span>,
</span><span id=__span-19-27><a id=__codelineno-19-27 name=__codelineno-19-27></a><span class=w>  </span><span class=s2>&quot;etag&quot;</span>:<span class=w> </span><span class=s2>&quot;282241271&quot;</span>,
</span><span id=__span-19-28><a id=__codelineno-19-28 name=__codelineno-19-28></a><span class=w>  </span><span class=s2>&quot;opc-work-request-id&quot;</span>:<span class=w> </span><span class=s2>&quot;ocid1.coreservicesworkrequest.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>
</span><span id=__span-19-29><a id=__codelineno-19-29 name=__codelineno-19-29></a><span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <p>Para consultar informações sobre o <strong><em>Work Request</em></strong>, utilize o valor do <strong><em>opc-work-request-id</em></strong> com o comando abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-20-1> 1</a></span>
<span class=normal><a href=#__codelineno-20-2> 2</a></span>
<span class=normal><a href=#__codelineno-20-3> 3</a></span>
<span class=normal><a href=#__codelineno-20-4> 4</a></span>
<span class=normal><a href=#__codelineno-20-5> 5</a></span>
<span class=normal><a href=#__codelineno-20-6> 6</a></span>
<span class=normal><a href=#__codelineno-20-7> 7</a></span>
<span class=normal><a href=#__codelineno-20-8> 8</a></span>
<span class=normal><a href=#__codelineno-20-9> 9</a></span>
<span class=normal><a href=#__codelineno-20-10>10</a></span>
<span class=normal><a href=#__codelineno-20-11>11</a></span>
<span class=normal><a href=#__codelineno-20-12>12</a></span>
<span class=normal><a href=#__codelineno-20-13>13</a></span>
<span class=normal><a href=#__codelineno-20-14>14</a></span>
<span class=normal><a href=#__codelineno-20-15>15</a></span>
<span class=normal><a href=#__codelineno-20-16>16</a></span>
<span class=normal><a href=#__codelineno-20-17>17</a></span>
<span class=normal><a href=#__codelineno-20-18>18</a></span>
<span class=normal><a href=#__codelineno-20-19>19</a></span>
<span class=normal><a href=#__codelineno-20-20>20</a></span>
<span class=normal><a href=#__codelineno-20-21>21</a></span>
<span class=normal><a href=#__codelineno-20-22>22</a></span>
<span class=normal><a href=#__codelineno-20-23>23</a></span>
<span class=normal><a href=#__codelineno-20-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1></a>$<span class=w> </span>oci<span class=w> </span>work-requests<span class=w> </span>work-request<span class=w> </span>get<span class=w> </span><span class=se>\</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3></a>&gt;<span class=w> </span>--work-request-id<span class=w> </span><span class=s2>&quot;ocid1.coreservicesworkrequest.oc1.sa-sa</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4></a><span class=s2>opaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5></a><span class=o>{</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6></a><span class=w>  </span><span class=s2>&quot;data&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7></a><span class=w>    </span><span class=s2>&quot;compartment-id&quot;</span>:<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>,
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8></a><span class=w>    </span><span class=s2>&quot;id&quot;</span>:<span class=w> </span><span class=s2>&quot;ocid1.coreservicesworkrequest.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>,
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9></a><span class=w>    </span><span class=s2>&quot;operation-type&quot;</span>:<span class=w> </span><span class=s2>&quot;create&quot;</span>,
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10></a><span class=w>    </span><span class=s2>&quot;percent-complete&quot;</span>:<span class=w> </span><span class=m>0</span>.0,
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11></a><span class=w>    </span><span class=s2>&quot;resources&quot;</span>:<span class=w> </span><span class=o>[</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12></a><span class=w>      </span><span class=o>{</span>
</span><span id=__span-20-13><a id=__codelineno-20-13 name=__codelineno-20-13></a><span class=w>        </span><span class=s2>&quot;action-type&quot;</span>:<span class=w> </span><span class=s2>&quot;CREATED&quot;</span>,
</span><span id=__span-20-14><a id=__codelineno-20-14 name=__codelineno-20-14></a><span class=w>        </span><span class=s2>&quot;entity-type&quot;</span>:<span class=w> </span><span class=s2>&quot;drg&quot;</span>,
</span><span id=__span-20-15><a id=__codelineno-20-15 name=__codelineno-20-15></a><span class=w>        </span><span class=s2>&quot;entity-uri&quot;</span>:<span class=w> </span><span class=s2>&quot;/20160918/drgs/ocid1.drg.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>,
</span><span id=__span-20-16><a id=__codelineno-20-16 name=__codelineno-20-16></a><span class=w>        </span><span class=s2>&quot;identifier&quot;</span>:<span class=w> </span><span class=s2>&quot;ocid1.drg.oc1.sa-saopaulo-1.aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span>
</span><span id=__span-20-17><a id=__codelineno-20-17 name=__codelineno-20-17></a><span class=w>      </span><span class=o>}</span>
</span><span id=__span-20-18><a id=__codelineno-20-18 name=__codelineno-20-18></a><span class=w>    </span><span class=o>]</span>,
</span><span id=__span-20-19><a id=__codelineno-20-19 name=__codelineno-20-19></a><span class=w>    </span><span class=s2>&quot;status&quot;</span>:<span class=w> </span><span class=s2>&quot;SUCCEEDED&quot;</span>,
</span><span id=__span-20-20><a id=__codelineno-20-20 name=__codelineno-20-20></a><span class=w>    </span><span class=s2>&quot;time-accepted&quot;</span>:<span class=w> </span><span class=s2>&quot;2025-03-24T19:27:04.899000+00:00&quot;</span>,
</span><span id=__span-20-21><a id=__codelineno-20-21 name=__codelineno-20-21></a><span class=w>    </span><span class=s2>&quot;time-finished&quot;</span>:<span class=w> </span><span class=s2>&quot;2025-03-24T19:27:09.988000+00:00&quot;</span>,
</span><span id=__span-20-22><a id=__codelineno-20-22 name=__codelineno-20-22></a><span class=w>    </span><span class=s2>&quot;time-started&quot;</span>:<span class=w> </span>null
</span><span id=__span-20-23><a id=__codelineno-20-23 name=__codelineno-20-23></a><span class=w>  </span><span class=o>}</span>
</span><span id=__span-20-24><a id=__codelineno-20-24 name=__codelineno-20-24></a><span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <p>Trabalhar com <strong><em>Work Request</em></strong> pode ser extremamente útil em diversos cenários. Por exemplo, considere a situação em que você precisa disponibilizar uma aplicação web por meio de um <em><a href=https://docs.oracle.com/pt-br/iaas/Content/NetworkLoadBalancer/home.htm>Load Balancer</a></em>. No entanto, antes, é necessário que o processo de provisionamento de um <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Compute/Concepts/computeoverview.htm>Compute Instance</a></em>, que irá hospedar a aplicação, seja concluído.</p> <h2 id=356-cloud-shell>3.5.6 Cloud Shell</h2> <p>Uma instalação <em>"pronta para uso"</em> do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>, está disponível por meio do <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cloudshellintro.htm>Cloud Shell</a></em>, que pode ser acessado pela <em>Web Console</em>:</p> <p><img alt=alt_text src=../img/cloud-shell-1.png title="Cloud Shell #1"> <br></p> <p>O <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cloudshellintro.htm>Cloud Shell</a></em> é um terminal Linux acessível por meio da <em>Web Console</em> que oferece um <em>shell</em> pré-autenticado com diversas ferramentas já instaladas, incluindo o <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cliconcepts.htm>OCI CLI</a></em>. Isso significa que não é necessário realizar a instalação e configuração de uma <em><a href=https://docs.oracle.com/pt-br/iaas/Content/Identity/access/working-with-console-passwords-and-API-keys.htm#one>API Key</a></em>.</p> <p><img alt=alt_text src=../img/cloud-shell-2.png title="Cloud Shell #2"></p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Consulte <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cloudshellintro.htm>"O que está Incluído no Cloud Shel"</a></em> para acessar uma lista completa das ferramentas e utilitários disponíveis no <em><a href=https://docs.oracle.com/pt-br/iaas/Content/API/Concepts/cloudshellintro.htm>Cloud Shell</a></em>.</p> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Daniel Armbrust. Todos os direitos reservados. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/daniel-armbrust/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>