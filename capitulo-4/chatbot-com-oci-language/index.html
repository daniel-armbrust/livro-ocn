<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Guia Prático para Implantação de Aplicações Cloud Native na Oracle Cloud Infrastructure (OCI)."><meta name=author content="Daniel Armbrust (darmbrust@gmail.com)"><link href=https://ocn.dev.br/capitulo-4/chatbot-com-oci-language/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>Capítulo 4: Serviços Auxiliares e Persistência de Dados - OCN - Oracle Cloud Native</title><link rel=stylesheet href=../../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Open Sans";--md-code-font:"Red Hat Mono"}</style><link rel=stylesheet href=../../css/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#capitulo-4-servicos-auxiliares-e-persistencia-de-dados class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="OCN - Oracle Cloud Native" class="md-header__button md-logo" aria-label="OCN - Oracle Cloud Native" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OCN - Oracle Cloud Native </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Capítulo 4: Serviços Auxiliares e Persistência de Dados </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange aria-label="Light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__source> <a href=https://github.com/daniel-armbrust/livro-ocn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="OCN - Oracle Cloud Native" class="md-nav__button md-logo" aria-label="OCN - Oracle Cloud Native" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> OCN - Oracle Cloud Native </label> <div class=md-nav__source> <a href=https://github.com/daniel-armbrust/livro-ocn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../prefacio/ class=md-nav__link> <span class=md-ellipsis> Prefácio </span> </a> </li> <li class=md-nav__item> <a href=../../sobre-o-autor/ class=md-nav__link> <span class=md-ellipsis> Sobre o Autor </span> </a> </li> <li class=md-nav__item> <a href=../../como-usar-este-livro/ class=md-nav__link> <span class=md-ellipsis> Como usar este Livro </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-1/ class=md-nav__link> <span class=md-ellipsis> Capítulo 1 - Introdução à Computação em Nuvem </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-2/ class=md-nav__link> <span class=md-ellipsis> Capítulo 2 - Aplicação OCI PIZZA </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-3/ class=md-nav__link> <span class=md-ellipsis> Capítulo 3 - OCI Foundations </span> </a> </li> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Capítulo 4 - Serviços Auxiliares e Persistência de Dados </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-5/ class=md-nav__link> <span class=md-ellipsis> Capítulo 5 - Conectividade e Redes </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-6/ class=md-nav__link> <span class=md-ellipsis> Capítulo 6 - Contêineres, Docker e Funções </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-7/ class=md-nav__link> <span class=md-ellipsis> Capítulo 7 - Publicando a Aplicação na Web </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-8/ class=md-nav__link> <span class=md-ellipsis> Capítulo 8 - Oracle Kubernetes Engine (OKE) </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-9/ class=md-nav__link> <span class=md-ellipsis> Capítulo 9 - Serviço DevOps </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-10/ class=md-nav__link> <span class=md-ellipsis> Capítulo 10 - Monitoração e Observabilidade </span> </a> </li> <li class=md-nav__item> <a href=../../capitulo-11/ class=md-nav__link> <span class=md-ellipsis> Capítulo 11 - Infraestrutura como Código (IaC) </span> </a> </li> <li class=md-nav__item> <a href=../../apendice-a/ class=md-nav__link> <span class=md-ellipsis> Apêndice A - OCI HOWTOs </span> </a> </li> <li class=md-nav__item> <a href=../../bibliografia/ class=md-nav__link> <span class=md-ellipsis> Bibliografia </span> </a> </li> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> ChangeLog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=capitulo-4-servicos-auxiliares-e-persistencia-de-dados>Capítulo 4: Serviços Auxiliares e Persistência de Dados</h1> <h1 id=43-chatbot-com-oci-language>4.3 Chatbot com OCI Language</h1> <h2 id=431-o-que-e-um-chatbot>4.3.1 O que é um Chatbot?</h2> <p>Um <strong>Chatbot</strong>, também conhecido como <strong>Assistente Virtual Inteligente (AVI)</strong>, é um programa de computador projetado para interagir e auxiliar os clientes de uma empresa. Ele é desenvolvido para interpretar a linguagem natural, possibilitando simular uma conversa humana com os usuários por meio de interfaces de chat. Essas interfaces podem ser integradas de diversas maneiras, como em páginas da web, assistentes de voz como a Amazon Alexa, ou em aplicativos de mensagens, incluindo WhatsApp, Telegram, Facebook ou Instagram Messenger.</p> <p>Uma vez que o chatbot pode interpretar e <em>"entender"</em> linguagem natural, ou seja, a linguagem que os humanos utilizam no dia a dia, ele pode ser programado, por exemplo, para realizar ações como fornecer informações sobre produtos e serviços e manter diálogos complexos com os usuários.</p> <p>No caso da aplicação <strong>OCI PIZZA</strong>, o chatbot tem a função de auxiliar os clientes da pizzaria em diversas questões, como:</p> <ul> <li>Fazer pedidos de pizza</li> <li>Verificar o andamento de um pedido já realizado</li> <li>Cancelar um pedido</li> <li>Consultar o cardápio e preços</li> <li>Verificar a viabilidade de entrega no endereço solicitado</li> </ul> <p>Para compreender melhor o funcionamento de um chatbot, seus conceitos e como ele pode ser desenvolvido, é necessário entender como as máquinas interpretam palavras, frases e expressões por meio do <strong>Processamento de Linguagem Natural</strong>, tema que será abordado a seguir.</p> <h2 id=432-processamento-de-linguagem-natural-pln>4.3.2 Processamento de Linguagem Natural (PLN)</h2> <p>Um computador é uma máquina projetada para processar números, o que significa que ele não consegue interpretar ou processar letras, palavras ou textos nativamente. Em outras palavras, o computador não consegue, por conta própria, compreender a linguagem humana.</p> <p>Por exemplo, como fazer com que o computador compreenda a ação presente em uma frase que solicita a entrega de uma pizza para um determinado endereço?</p> <p><img alt=alt_text src=../img/nlp-frase-1.png title="NLP Frase #1"></p> <p>No contexto de uma pizzaria, é possível desenvolver um código que verifique que qualquer texto que siga as palavras "Rua" ou "Avenida", tem alta probabilidade de indicar uma solicitação para entrega de pizza em um endereço específico. </p> <p>Dessa forma, conseguimos reduzir a ambiguidade e os limites de interpretação, considerando que a palavra "Aparecida" faz referência exclusiva a uma "Rua" ou "Avenida", e não a uma cidade ou a um verbo.</p> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1> 1</a></span>
<span class=normal><a href=#__codelineno-0-2> 2</a></span>
<span class=normal><a href=#__codelineno-0-3> 3</a></span>
<span class=normal><a href=#__codelineno-0-4> 4</a></span>
<span class=normal><a href=#__codelineno-0-5> 5</a></span>
<span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=ch>#!/usr/bin/env python3</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=kn>import</span><span class=w> </span><span class=nn>re</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=k>def</span><span class=w> </span><span class=nf>verifica_entrega</span><span class=p>(</span><span class=n>localidade</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Localidade Encontrada!&#39;</span><span class=p>)</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=n>frase</span> <span class=o>=</span> <span class=s1>&#39;É possível entregar uma pizza grande na Rua Aparecida n123?&#39;</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9></a>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=c1># Retorna a string rua ou avenida, se presentes na frase.</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a><span class=n>palavra_chave</span> <span class=o>=</span> <span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\b(rua|avenida)\b&#39;</span><span class=p>,</span> <span class=n>frase</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>IGNORECASE</span><span class=p>))</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=k>if</span> <span class=n>palavra_chave</span><span class=p>:</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a>    <span class=c1># Encontra a posição numérica da palavra chave na frase (rua ou avenida).</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a>    <span class=n>posicao</span> <span class=o>=</span> <span class=n>frase</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>palavra_chave</span><span class=p>)</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>    <span class=c1># Extrai o texto após a palavra chave. O resultado será &quot;Rua Aparecida n123?&quot;.</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=n>texto_apos_palvra_chave</span> <span class=o>=</span> <span class=n>frase</span><span class=p>[</span><span class=n>posicao</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>palavra_chave</span><span class=p>):]</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=c1># Remove todos os caracteres especiais. O resultado será &quot;Rua Aparecida n123&quot;.</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=n>localidade</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;[^\w\s]&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>texto_apos_palvra_chave</span><span class=p>)</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=c1># Chama uma função para verificar se é possível entregar uma pizza</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=c1># no endereço solicitado.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>verifica_entrega</span><span class=p>(</span><span class=n>localidade</span><span class=p>)</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Desculpe, não consegui entender ou não é possível entregar no endereço solicitado.&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>Os primeiros chatbots eram capazes de fornecer respostas para prompts específicos. Foram programados de maneira semelhante, baseando-se na extração de palavras-chave dos textos para verificar se havia uma resposta ou ação pré-programada.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p><a href=https://github.com/wadetb/eliza target=_blank>ELIZA</a> foi um dos primeiros chatbots, desenvolvido na década de 1960, projetado para simular uma conversa entre uma pessoa e seu terapeuta. Seu funcionamento baseava-se em uma simples árvore de decisão <code>if...else</code>, onde o programa extraía palavras-chave do texto de entrada do usuário e consultava um arquivo de respostas pré-definidas para determinar a resposta a ser retornada. Você pode conferir a implementação em Python do chatbot <a href=https://github.com/wadetb/eliza target=_blank>ELIZA</a> no seguinte link: <a href=https://github.com/wadetb/eliza target=_blank>https://github.com/wadetb/eliza</a></p> </div> <p>No entanto, com o tempo, novas possibilidades de diálogo surgem, exigindo mais código e estruturas <code>if...else</code> para executar ações de correspondência. Com mais código, aumentam as chances de bugs e, ao interpretar a linguagem humana, a probabilidade de erros de interpretação também cresce. </p> <p>Determinar o número de palavras utilizadas na linguagem natural é uma tarefa quase impossível. O vocabulário da linguagem natural cresce constantemente a cada ano e, por exemplo, difere de uma linguagem de programação, onde existe um conjunto fixo de palavras reservadas que são usadas para especificar ações exatas (<code>if</code>, <code>then</code>, <code>else</code>, <code>elif</code>, <code>except</code>, <code>while</code>, <code>continue</code>, <code>def</code>, <code>class</code>, entre outras).</p> <p>Na linguagem humana, por outro lado, as palavras podem ter múltiplos significados (duplo sentido), especialmente quando escritas em frases diferentes. Para compreender o significado de uma frase, é necessário analisar o contexto como um todo, e não apenas palavra por palavra. Tentar processar cada palavra individualmente pode não fazer sentido e pode levar a erros de interpretação.</p> <p>Nesse cenário, imagine desenvolver um chatbot que possa interpretar contextos mais amplos, além do ambiente de uma pizzaria. Nesse caso, a palavra "Aparecida", do exemplo anterior, pode ter diversos significados, como:</p> <ol> <li>Nome próprio feminino comum no Brasil.</li> <li>Pode se referir a uma localidade, como a cidade de Aparecida do Norte.</li> <li>Nossa Senhora Aparecida padroeira do Brasil.</li> <li>Verbo "aparecer", significando que algo ou alguém tornou-se visível. </li> </ol> <p>Não se programam regras gramaticais. Em vez disso, são desenvolvidos modelos estatísticos que permitem identificar as probabilidades entre as palavras de um texto. Isso torna o processo muito mais assertivo ao programar algo capaz de "entender" e "responder" em linguagem humana, sem recorrer a um monte de <code>if...else</code>.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Outro exemplo é o funcionamento de programas de tradução, como o Google Translate. Estes sistemas não traduzem palavra por palavra e se fosse o caso, muitas vezes o resultado das frases traduzidas não faria sentido. A análise contextual é essencial para realizar traduções precisas entre diferentes línguas.</p> </div> <p>Para superar as limitações que levam a erros de interpretação ao processar a linguagem humana, é necessário converter esses textos em representações numéricas por meio de um conjunto de técnicas conhecidas como <strong>Processamento de Linguagem Natural</strong>.</p> <p><strong>Processamento de Linguagem Natural (PLN)</strong>, ou em inglês, <strong>Natural Language Processing (NLP)</strong>, é uma subárea da <strong>Inteligência Artificial (IA)</strong> voltada para o processamento e análise de dados em linguagem natural.</p> <p>Aplicações que utilizam técnicas de <strong>Processamento de Linguagem Natural</strong> podem "entender" sentenças faladas e escritas por humanos, ou seja, em linguagem natural. Elas são capazes de gerar respostas úteis e manter diálogos complexos.</p> <p>A seguir, examinaremos como o serviço <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank><b>OCI Language</b></a> pode ajudar nas questões que envolvem o <strong>Processamento de Linguagem Natural</strong>.</p> <h2 id=433-introducao-ao-oci-language>4.3.3 Introdução ao OCI Language</h2> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>Language</a> é um serviço de <strong>Processamento de Linguagem Natural (NLP)</strong> oferecido pelo OCI no qual permite os desenvolvedores processar, analisar e extrair informações importantes a partir de textos não estruturados.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O nome oficial do serviço é <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>"Language"</a>, mas neste livro, ele será chamado de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>"OCI Language"</a>. Essa escolha se deve ao fato de que o termo "Language" pode ter diferentes significados dependendo do contexto em que é utilizado.</p> </div> <p>O <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>Language</a> disponibiliza, através de sua API REST, as seguintes funcionalidades para o processamento de textos:</p> <ul> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/lang-detect.htm target=_blank><b>Detecção de Idioma</b></a></p> <ul> <li>Identifica o idioma do texto fornecido, apresentando uma pontuação de confiança associada.</li> </ul> </li> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank><b>Classificação de Texto</b></a></p> <ul> <li>Determina a categoria e subcategoria à qual o texto pertence.</li> </ul> </li> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/ner.htm target=_blank><b>Reconhecimento de Entidade Nomeada</b></a></p> <ul> <li>Identifica nomes de pessoas, lugares, organizações e outras entidades relevantes.</li> </ul> </li> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/key_ref.htm target=_blank><b>Extração de Palavras-Chave</b></a></p> <ul> <li>Extrai um conjunto significativo de frases de um bloco de texto.</li> </ul> </li> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/sentment.htm target=_blank><b>Análise de Sentimentos</b></a></p> <ul> <li>Classifica o texto como positivo, negativo ou neutro.</li> </ul> </li> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/translate-text.htm target=_blank><b>Tradução de Texto</b></a></p> <ul> <li>Traduz o texto para o idioma desejado.</li> </ul> </li> <li> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/pii.htm target=_blank><b>Informações de Identificação Pessoal</b></a></p> <ul> <li>Identifica, classifica e anonimiza informações sensíveis em textos.</li> </ul> </li> </ul> <p>Algumas das funcionalidades já estão disponíveis para uso imediato, utilizando modelos pré-treinados pela Oracle. Esses modelos são treinados com um conjunto abrangente de dados genéricos, que, em muitos casos, podem não atender a contextos específicos de certas aplicações.</p> <p>Para superar essa limitação, é possível desenvolver e treinar modelos utilizando dados específicos do seu negócio. O primeiro passo nesse processo é a criação de um projeto, seguido pela preparação dos dados de treinamento. Após essa etapa, os dados devem ser enviados para um bucket no OCI. Em seguida, pode-se realizar o treinamento do modelo e, por fim, executar testes para validar a eficácia do modelo após o treinamento.</p> <h3 id=projeto><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/projects.htm target=_blank><b>Projeto</b></a></h3> <p>Um projeto serve basicamente como um meio ou contêiner para organizar tarefas relacionadas ao <strong>Processamento de Linguagem Natural</strong> para processar dados específicos do seu contexto de negócio.</p> <p>A aplicação chatbot do <strong>OCI PIZZA</strong> utiliza um projeto localizado nas regiões <code>sa-saopaulo-1</code> e <code>sa-vinhedo-1</code>, dentro da estrutura de <a href=../../capitulo-3/iam-limites-cotas-e-audit/#compartimentos>compartimento</a> <code>cmp-prd:cmp-appl</code>, denominado <code>chatbot-project</code>.</p> <p>Para criar o projeto na região <code>sa-saopaulo-1</code> dentro da estrutura de <a href=../../capitulo-3/iam-limites-cotas-e-audit/#compartimentos>compartimento</a> <code>cmp-prd:cmp-appl</code>, utilize o seguinte comando:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span>
<span class=normal><a href=#__codelineno-1-2>2</a></span>
<span class=normal><a href=#__codelineno-1-3>3</a></span>
<span class=normal><a href=#__codelineno-1-4>4</a></span>
<span class=normal><a href=#__codelineno-1-5>5</a></span>
<span class=normal><a href=#__codelineno-1-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>project<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;chatbot-project&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5></a>&gt;<span class=w> </span>--description<span class=w> </span><span class=s2>&quot;Projeto OCI Language para Chatbot da região \&quot;sa-saopaulo-1\&quot;.&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6></a>&gt;<span class=w> </span>--wait-for-state<span class=w> </span><span class=s2>&quot;SUCCEEDED&quot;</span>
</span></code></pre></div></td></tr></table></div> <h3 id=dados-de-treinamento><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/allowed-datasets.htm target=_blank><b>Dados de Treinamento</b></a></h3> <p>Algo que o <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> não faz sozinho é identificar qual é a intenção do usuário. No contexto do chatbot, essa é uma das tarefas mais primordiais que ele deve desempenhar.</p> <p>O termo "intenção" é frequentemente utilizado no contexto de chatbots para descrever o processo de identificar, a partir de uma sentença ou texto, o que um usuário deseja. Uma vez que a intenção foi corretamente identificada, o chatbot pode executar determinadas ações, como, por exemplo, invocar uma função que consulta um banco de dados para fornecer uma resposta.</p> <p>Para que o <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> possa identificar corretamente a intenção do usuário, é necessário treiná-lo com um conjunto de dados específico, comumente chamado de <strong>Dados de Treinamento (dataset)</strong>.</p> <p>Neste caso, os dados de treinamento consistem em um conjunto de sentenças comuns, frequentemente utilizadas por usuários de uma pizzaria, como por exemplo:</p> <p><img alt=alt_text src=../img/nlp-frase-3.png title="NLP Frase #3"></p> <p><img alt=alt_text src=../img/nlp-frase-4.png title="NLP Frase #4"></p> <p>Quanto maior e mais diversificado for o número de sentenças de exemplo, mais assertivo e preciso será o <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> na identificação das intenções dos usuários.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Na verdade, o que se torna assertivo e preciso não é o <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> em si, mas sim o modelo estatístico gerado a partir dos dados de treinamento que você fornece.</p> </div> <p>No diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4/data target=_blank>"scripts/capitulo-4/data"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, há dois arquivos que contêm sentenças de exemplo de interações típicas de usuários da pizzaria. São eles:</p> <ul> <li> <p><a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4/data/chatbot-train-intents.csv target=_blank><b>chatbot-train-intents.csv</b></a></p> <ul> <li>Arquivo que contém exemplos de sentenças que são utilizados no processo de treinamento.</li> </ul> </li> <li> <p><a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4/data/chatbot-test-intents.csv target=_blank><b>chatbot-test-intents.csv</b></a></p> <ul> <li>Arquivo que contém exemplos de sentenças que são utilizados exclusivamente para testes.</li> </ul> </li> </ul> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>A boa prática é separar 70% do conjunto total de dados para realizar o treinamento e reservar os 30% restantes para testes. É muito importante que esses 30% sejam dados que não foram utilizados no processo de treinamento.</p> </div> <h3 id=classificacao-de-texto><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank><b>Classificação de Texto</b></a></h3> <p><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a> é uma técnica de aprendizagem supervisionada que usa dados previamente rotulados. </p> <p>O <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> possui a funcionalidade para realizar a <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a>, a qual retorna uma string específica — ou, nos termos do <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a>, um label ou categoria — com base em uma sentença ou texto de entrada.</p> <p>Essa funcionalidade é extremamente útil em aplicações de chatbot, pois o objetivo é, a partir da sentença do usuário, retornar uma string que identifique uma intenção. Essa intenção pode ser então avaliada pela lógica da aplicação para gerar uma resposta apropriada.</p> <p>Para tarefas de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a>, o arquivo que contém os dados de treinamento a serem enviados ao <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> deve seguir a seguinte estrutura:</p> <p><img alt=alt_text src=../img/text-classification-1.png title="Classificação de Texto #1"></p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span>
<span class=normal><a href=#__codelineno-2-2>2</a></span>
<span class=normal><a href=#__codelineno-2-3>3</a></span>
<span class=normal><a href=#__codelineno-2-4>4</a></span>
<span class=normal><a href=#__codelineno-2-5>5</a></span>
<span class=normal><a href=#__codelineno-2-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a>$<span class=w> </span>head<span class=w> </span>-5<span class=w> </span>capitulo-4/data/chatbot-train-intents.csv
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2></a>text,labels
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3></a><span class=s2>&quot;Errei o pedido, cancela por favor&quot;</span>,cancelar_pedido
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4></a>Gostaria<span class=w> </span>de<span class=w> </span>pedir<span class=w> </span>uma<span class=w> </span>pizza<span class=w> </span>grande<span class=w> </span>muçarela<span class=w> </span>por<span class=w> </span>favor,fazer_pedido
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5></a><span class=s2>&quot;Boa noite, obrigado&quot;</span>,despedida
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6></a><span class=s2>&quot;Olá, gostaria de fazer um pedido&quot;</span>,ver_cardapio
</span></code></pre></div></td></tr></table></div> <p>Alguns detalhes que devem ser levados em consideração ao criar um arquivo para <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a> que são:</p> <ul> <li> <p><code>text,labels</code></p> <ul> <li>É obrigatório que a primeira linha do arquivo contenha as palavras <code>text</code> e <code>labels</code>, separadas por vírgula. Caso contrário, o processo de treinamento falhará.</li> </ul> </li> <li> <p><code>text</code></p> <ul> <li>O texto das sentenças é de livre escolha e pode incluir letras maiúsculas, minúsculas, acentos e caracteres especiais. Como regra geral, se a sentença contiver uma vírgula, toda ela deve estar entre aspas duplas (<code>"texto, com, vírgula"</code>), caso contrário, o processo de treinamento falhará.</li> </ul> </li> <li> <p><code>labels</code></p> <ul> <li>String que identifica a intenção com base na sentença contida na coluna <code>text</code>. O identificador de intenção pode ser multilabel e se este for o caso, deve seguir o formato <code>label_1|label_2|...</code>.</li> </ul> </li> </ul> <p>O conjunto de intenções que o chatbot do <strong>OCI PIZZA</strong> processa incluem:</p> <ul> <li><strong>saudacao</strong></li> <li><strong>fazer_pedido</strong></li> <li><strong>ver_cardapio</strong></li> <li><strong>confirmar_pedido</strong></li> <li><strong>cancelar_pedido</strong></li> <li><strong>agradecimento</strong></li> </ul> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>São necessárias, no mínimo, dez frases de exemplo para cada intenção. Essa é uma exigência do processo de treinamento realizado pelo serviço <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a>.</p> </div> <h3 id=treinamento><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/train-custom-models.htm target=_blank><b>Treinamento</b></a></h3> <p>Uma vez que existem dados previamente classificados, é possível iniciar a etapa de treinamento, que resulta na criação do que chamamos de modelo de Inteligência Artificial, ou simplesmente, modelo.</p> <p>De forma simplificada, um modelo pode ser comparado a um banco de dados que contém probabilidades. Ele é o resultado matemático do processo de treinamento, onde "treinar" significa "alimentar" algoritmos de Inteligência Artificial com uma grande quantidade de dados. Isso possibilita a criação de um modelo capaz de fazer previsões ou classificações sobre conjuntos de dados ainda não vistos. Em outras palavras, o modelo resultante do treinamento é habilitado para realizar previsões.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Neste livro, não abordaremos em detalhes o que é Inteligência Artificial nem explicaremos seu funcionamento. A IA é uma área de estudos extremamente vasta e complexa. Aqui, apresentaremos apenas alguns aspectos básicos para que o leitor possa compreender temas relacionados à preparação do <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> para ser utilizado em tarefas de classificação.</p> </div> <p>Para treinar um modelo no <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> voltado para tarefas de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a>, é necessário, primeiramente, enviar os arquivos <code>chatbot-train-intents.csv</code> e <code>chatbot-test-intents.csv</code> para o <a href=../object-storage/ >Object Storage</a>. Isso irá permitir que o <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> acesse esses dados e, a partir daí, crie, treine e teste o modelo que será utilizado pelo chatbot da aplicação <strong>OCI PIZZA</strong>.</p> <p>O comando abaixo cria um bucket privado chamado <code>chatbot-data</code> na região <code>sa-saopaulo-1</code>, dentro da estrutura de <a href=../../capitulo-3/iam-limites-cotas-e-audit/#compartimentos>compartimento</a> <code>cmp-prd:cmp-appl</code>, que será utilizado para o upload e armazenamento dos arquivos <code>chatbot-train-intents.csv</code> e <code>chatbot-test-intents.csv</code>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span>
<span class=normal><a href=#__codelineno-3-2>2</a></span>
<span class=normal><a href=#__codelineno-3-3>3</a></span>
<span class=normal><a href=#__codelineno-3-4>4</a></span>
<span class=normal><a href=#__codelineno-3-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a>$<span class=w> </span>oci<span class=w> </span>os<span class=w> </span>bucket<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4></a>&gt;<span class=w> </span>--name<span class=w> </span><span class=s2>&quot;chatbot-data&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5></a>&gt;<span class=w> </span>--public-access-type<span class=w> </span><span class=s2>&quot;NoPublicAccess&quot;</span>
</span></code></pre></div></td></tr></table></div> <p>Após a criação do bucket, é o momento de enviar os arquivos utilizando os comandos abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1>1</a></span>
<span class=normal><a href=#__codelineno-4-2>2</a></span>
<span class=normal><a href=#__codelineno-4-3>3</a></span>
<span class=normal><a href=#__codelineno-4-4>4</a></span>
<span class=normal><a href=#__codelineno-4-5>5</a></span>
<span class=normal><a href=#__codelineno-4-6>6</a></span>
<span class=normal><a href=#__codelineno-4-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1></a>$<span class=w> </span>oci<span class=w> </span>os<span class=w> </span>object<span class=w> </span>put<span class=w> </span><span class=se>\</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3></a>&gt;<span class=w> </span>--bucket-name<span class=w> </span><span class=s2>&quot;chatbot-data&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4></a>&gt;<span class=w> </span>--file<span class=w> </span><span class=s2>&quot;data/chatbot-train-intents.csv&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5></a>&gt;<span class=w> </span>--content-type<span class=w> </span><span class=s2>&quot;text/csv&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6></a>&gt;<span class=w> </span>--verify-checksum<span class=w> </span><span class=se>\</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7></a>&gt;<span class=w> </span>--force
</span></code></pre></div></td></tr></table></div> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span>
<span class=normal><a href=#__codelineno-5-2>2</a></span>
<span class=normal><a href=#__codelineno-5-3>3</a></span>
<span class=normal><a href=#__codelineno-5-4>4</a></span>
<span class=normal><a href=#__codelineno-5-5>5</a></span>
<span class=normal><a href=#__codelineno-5-6>6</a></span>
<span class=normal><a href=#__codelineno-5-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1></a>$<span class=w> </span>oci<span class=w> </span>os<span class=w> </span>object<span class=w> </span>put<span class=w> </span><span class=se>\</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3></a>&gt;<span class=w> </span>--bucket-name<span class=w> </span><span class=s2>&quot;chatbot-data&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4></a>&gt;<span class=w> </span>--file<span class=w> </span><span class=s2>&quot;data/chatbot-test-intents.csv&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5></a>&gt;<span class=w> </span>--content-type<span class=w> </span><span class=s2>&quot;text/csv&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6></a>&gt;<span class=w> </span>--verify-checksum<span class=w> </span><span class=se>\</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7></a>&gt;<span class=w> </span>--force
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <a href=https://github.com/daniel-armbrust/ocn-ocipizza/blob/main/scripts/capitulo-4/bucket-chatbot-data.sh target=_blank>"bucket-chatbot-data.sh"</a>, localizado no diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4 target=_blank>"scripts/capitulo-4"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, cria os buckets e realiza o upload dos arquivos <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4/data/chatbot-train-intents.csv target=_blank>"chatbot-train-intents.csv"</a> e <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4/data/chatbot-test-intents.csv target=_blank>"chatbot-test-intents.csv"</a> nas regiões <code>sa-saopaulo-1</code> e <code>sa-vinhedo-1</code>.</p> </div> <p>Como última tarefa relacionada à disponibilização dos dados para treinamento, é necessário conceder acesso ao bucket <code>chatbot-data</code> ao <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a>. Esse acesso é concedido pela criação de um <a href=../../capitulo-3/iam-limites-cotas-e-audit/#363-grupos-dinâmicos>Grupo Dinâmico</a> e uma <a href=../../capitulo-3/iam-limites-cotas-e-audit/#políticas-de-acesso>Política IAM</a>.</p> <p>Para criar o <a href=../../capitulo-3/iam-limites-cotas-e-audit/#363-grupos-dinâmicos>Grupo Dinâmico</a> que faz referência ao serviço <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> e à <a href=../../capitulo-3/iam-limites-cotas-e-audit/#políticas-de-acesso>Política IAM</a>, utilize os comandos abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span>
<span class=normal><a href=#__codelineno-6-2>2</a></span>
<span class=normal><a href=#__codelineno-6-3>3</a></span>
<span class=normal><a href=#__codelineno-6-4>4</a></span>
<span class=normal><a href=#__codelineno-6-5>5</a></span>
<span class=normal><a href=#__codelineno-6-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a>$<span class=w> </span>oci<span class=w> </span>iam<span class=w> </span>dynamic-group<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.tenancy.oc1..aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3></a>&gt;<span class=w> </span>--name<span class=w> </span><span class=s2>&quot;language-dyngrp&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4></a>&gt;<span class=w> </span>--description<span class=w> </span><span class=s2>&quot;Grupo dinâmico para o serviço OCI Language.&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5></a>&gt;<span class=w> </span>--matching-rule<span class=w> </span><span class=s2>&quot;ALL {resource.type=&#39;ailanguagemodel&#39;}&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6></a>&gt;<span class=w> </span>--wait-for-state<span class=w> </span><span class=s2>&quot;ACTIVE&quot;</span>
</span></code></pre></div></td></tr></table></div> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span>
<span class=normal><a href=#__codelineno-7-2>2</a></span>
<span class=normal><a href=#__codelineno-7-3>3</a></span>
<span class=normal><a href=#__codelineno-7-4>4</a></span>
<span class=normal><a href=#__codelineno-7-5>5</a></span>
<span class=normal><a href=#__codelineno-7-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a>$<span class=w> </span>oci<span class=w> </span>iam<span class=w> </span>policy<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.tenancy.oc1..aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3></a>&gt;<span class=w> </span>--name<span class=w> </span><span class=s2>&quot;language-policy&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4></a>&gt;<span class=w> </span>--description<span class=w> </span><span class=s2>&quot;Políticas de Acesso para o Grupo Dinâmico \&quot;language-dyngrp\&quot; acessar os objetos do bucket \&quot;chatbot-data\&quot;.&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5></a>&gt;<span class=w> </span>--statements<span class=w> </span><span class=s1>&#39;[&quot;Allow dynamic-group language-dyngrp to manage objects in tenancy where target.bucket.name=&#39;</span>chatbot-data<span class=s1>&#39;&quot;]&#39;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6></a>&gt;<span class=w> </span>--wait-for-state<span class=w> </span><span class=s2>&quot;ACTIVE&quot;</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <a href=https://github.com/daniel-armbrust/ocn-ocipizza/blob/main/scripts/capitulo-4/language-policy.sh target=_blank>"language-policy.sh"</a>, localizado no diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4 target=_blank>"scripts/capitulo-4"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, contém os comandos necessários para a criação do <a href=../../capitulo-3/iam-limites-cotas-e-audit/#363-grupos-dinâmicos>Grupo Dinâmico</a> e da <a href=../../capitulo-3/iam-limites-cotas-e-audit/#políticas-de-acesso>Política IAM</a>, que concedem acesso ao <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/home.htm target=_blank>OCI Language</a> aos dados de treinamento.</p> </div> <p>Com os dados prontos, disponibilizados e o acesso concedido, chega o momento de treinar o modelo. Porém, antes disso, serão necessárias duas informações: o OCID do projeto recém-criado e o namespace do Object Storage. Ambas as informações serão utilizadas como parte do comando usado para treinar o modelo.</p> <p>O comando abaixo retorna o <a href=../object-storage/#414-acessando-objetos>namespace</a> do <a href=../object-storage/ >Object Storage</a>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span>
<span class=normal><a href=#__codelineno-8-2>2</a></span>
<span class=normal><a href=#__codelineno-8-3>3</a></span>
<span class=normal><a href=#__codelineno-8-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a>$<span class=w> </span>oci<span class=w> </span>os<span class=w> </span>ns<span class=w> </span>get
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2></a><span class=o>{</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3></a><span class=w>  </span><span class=s2>&quot;data&quot;</span>:<span class=w> </span><span class=s2>&quot;WYYdXX82dnaS&quot;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4></a><span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <p>Já o comando abaixo retorna o OCID do projeto de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a> recém-criado:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1> 1</a></span>
<span class=normal><a href=#__codelineno-9-2> 2</a></span>
<span class=normal><a href=#__codelineno-9-3> 3</a></span>
<span class=normal><a href=#__codelineno-9-4> 4</a></span>
<span class=normal><a href=#__codelineno-9-5> 5</a></span>
<span class=normal><a href=#__codelineno-9-6> 6</a></span>
<span class=normal><a href=#__codelineno-9-7> 7</a></span>
<span class=normal><a href=#__codelineno-9-8> 8</a></span>
<span class=normal><a href=#__codelineno-9-9> 9</a></span>
<span class=normal><a href=#__codelineno-9-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>project<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;chatbot-project&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5></a>&gt;<span class=w> </span>--lifecycle-state<span class=w> </span><span class=s2>&quot;ACTIVE&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6></a>&gt;<span class=w> </span>--all<span class=w> </span><span class=se>\</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7></a>&gt;<span class=w> </span>--query<span class=w> </span><span class=s2>&quot;data.items[].id&quot;</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8></a><span class=o>[</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9></a><span class=w>  </span><span class=s2>&quot;ocid1.ailanguageproject.oc1.sa-saopaulo-1.abcdefghai&quot;</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10></a><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>Com as informações à disposição, é possível criar e treinar o modelo de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a> dentro da estrutura do compartimento <code>cmp-prd:cmp-appl</code>, na região <code>sa-saopaulo-1</code>, utilizando o comando abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1> 1</a></span>
<span class=normal><a href=#__codelineno-10-2> 2</a></span>
<span class=normal><a href=#__codelineno-10-3> 3</a></span>
<span class=normal><a href=#__codelineno-10-4> 4</a></span>
<span class=normal><a href=#__codelineno-10-5> 5</a></span>
<span class=normal><a href=#__codelineno-10-6> 6</a></span>
<span class=normal><a href=#__codelineno-10-7> 7</a></span>
<span class=normal><a href=#__codelineno-10-8> 8</a></span>
<span class=normal><a href=#__codelineno-10-9> 9</a></span>
<span class=normal><a href=#__codelineno-10-10>10</a></span>
<span class=normal><a href=#__codelineno-10-11>11</a></span>
<span class=normal><a href=#__codelineno-10-12>12</a></span>
<span class=normal><a href=#__codelineno-10-13>13</a></span>
<span class=normal><a href=#__codelineno-10-14>14</a></span>
<span class=normal><a href=#__codelineno-10-15>15</a></span>
<span class=normal><a href=#__codelineno-10-16>16</a></span>
<span class=normal><a href=#__codelineno-10-17>17</a></span>
<span class=normal><a href=#__codelineno-10-18>18</a></span>
<span class=normal><a href=#__codelineno-10-19>19</a></span>
<span class=normal><a href=#__codelineno-10-20>20</a></span>
<span class=normal><a href=#__codelineno-10-21>21</a></span>
<span class=normal><a href=#__codelineno-10-22>22</a></span>
<span class=normal><a href=#__codelineno-10-23>23</a></span>
<span class=normal><a href=#__codelineno-10-24>24</a></span>
<span class=normal><a href=#__codelineno-10-25>25</a></span>
<span class=normal><a href=#__codelineno-10-26>26</a></span>
<span class=normal><a href=#__codelineno-10-27>27</a></span>
<span class=normal><a href=#__codelineno-10-28>28</a></span>
<span class=normal><a href=#__codelineno-10-29>29</a></span>
<span class=normal><a href=#__codelineno-10-30>30</a></span>
<span class=normal><a href=#__codelineno-10-31>31</a></span>
<span class=normal><a href=#__codelineno-10-32>32</a></span>
<span class=normal><a href=#__codelineno-10-33>33</a></span>
<span class=normal><a href=#__codelineno-10-34>34</a></span>
<span class=normal><a href=#__codelineno-10-35>35</a></span>
<span class=normal><a href=#__codelineno-10-36>36</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>model<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4></a>&gt;<span class=w> </span>--project-id<span class=w> </span><span class=s2>&quot;ocid1.ailanguageproject.oc1.sa-saopaulo-1.abcdefghai&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;model-text-classification&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6></a>&gt;<span class=w> </span>--description<span class=w> </span><span class=s2>&quot;Modelo para Classificação de Texto.&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7></a>&gt;<span class=w> </span>--model-details<span class=w> </span><span class=s2>&quot;{</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8></a><span class=s2>&gt;    \&quot;modelType\&quot;: \&quot;TEXT_CLASSIFICATION\&quot;,</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9></a><span class=s2>&gt;    \&quot;languageCode\&quot;: \&quot;en\&quot;,</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10></a><span class=s2>&gt;    \&quot;version\&quot;: \&quot;V1.0\&quot;,</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11></a><span class=s2>&gt;    \&quot;classificationMode\&quot;: { </span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12></a><span class=s2>&gt;        \&quot;classificationMode\&quot;: \&quot;MULTI_CLASS\&quot; </span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13></a><span class=s2>&gt;    }</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14></a><span class=s2>&gt; }&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15></a>&gt;<span class=w> </span>--training-dataset<span class=w> </span><span class=s2>&quot;{</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16></a><span class=s2>&gt;    \&quot;locationDetails\&quot;: {</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17></a><span class=s2>&gt;        \&quot;locationType\&quot;: \&quot;OBJECT_LIST\&quot;,</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18></a><span class=s2>&gt;        \&quot;bucketName\&quot;: \&quot;chatbot-data\&quot;,</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19></a><span class=s2>&gt;        \&quot;namespaceName\&quot;: \&quot;WYYdXX82dnaS\&quot;,</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20></a><span class=s2>&gt;        \&quot;objectNames\&quot;: [\&quot;chatbot-train-intents.csv\&quot;]</span>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21></a><span class=s2>&gt;    },</span>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22></a><span class=s2>&gt;    \&quot;datasetType\&quot;: \&quot;OBJECT_STORAGE\&quot;</span>
</span><span id=__span-10-23><a id=__codelineno-10-23 name=__codelineno-10-23></a><span class=s2>&gt; }&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-24><a id=__codelineno-10-24 name=__codelineno-10-24></a>&gt;<span class=w> </span>--test-strategy<span class=w> </span><span class=s2>&quot;{</span>
</span><span id=__span-10-25><a id=__codelineno-10-25 name=__codelineno-10-25></a><span class=s2>&gt;    \&quot;testingDataset\&quot;: {</span>
</span><span id=__span-10-26><a id=__codelineno-10-26 name=__codelineno-10-26></a><span class=s2>&gt;        \&quot;locationDetails\&quot;: {</span>
</span><span id=__span-10-27><a id=__codelineno-10-27 name=__codelineno-10-27></a><span class=s2>&gt;             \&quot;locationType\&quot;: \&quot;OBJECT_LIST\&quot;,</span>
</span><span id=__span-10-28><a id=__codelineno-10-28 name=__codelineno-10-28></a><span class=s2>&gt;             \&quot;bucketName\&quot;: \&quot;chatbot-data\&quot;,</span>
</span><span id=__span-10-29><a id=__codelineno-10-29 name=__codelineno-10-29></a><span class=s2>&gt;             \&quot;namespaceName\&quot;: \&quot;WYYdXX82dnaS\&quot;,</span>
</span><span id=__span-10-30><a id=__codelineno-10-30 name=__codelineno-10-30></a><span class=s2>&gt;             \&quot;objectNames\&quot;: [\&quot;chatbot-test-intents.csv\&quot;]</span>
</span><span id=__span-10-31><a id=__codelineno-10-31 name=__codelineno-10-31></a><span class=s2>&gt;        },</span>
</span><span id=__span-10-32><a id=__codelineno-10-32 name=__codelineno-10-32></a><span class=s2>&gt;        \&quot;datasetType\&quot;: \&quot;OBJECT_STORAGE\&quot;</span>
</span><span id=__span-10-33><a id=__codelineno-10-33 name=__codelineno-10-33></a><span class=s2>&gt;   },</span>
</span><span id=__span-10-34><a id=__codelineno-10-34 name=__codelineno-10-34></a><span class=s2>&gt;   \&quot;strategyType\&quot;: \&quot;TEST_AND_VALIDATION_DATASET\&quot;</span>
</span><span id=__span-10-35><a id=__codelineno-10-35 name=__codelineno-10-35></a><span class=s2>&gt; }&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-10-36><a id=__codelineno-10-36 name=__codelineno-10-36></a>&gt;<span class=w> </span>--wait-for-state<span class=w> </span><span class=s2>&quot;ACCEPTED&quot;</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <a href=https://github.com/daniel-armbrust/ocn-ocipizza/blob/main/scripts/capitulo-4/language-model.sh target=_blank>"language-model.sh"</a>, localizado no diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4 target=_blank>"scripts/capitulo-4"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, contém os comandos necessários para criar e treinar o modelo de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a> nas regiões <code>sa-saopaulo-1</code> e <code>sa-vinhedo-1</code>.</p> </div> <h3 id=acompanhando-o-processo-de-treinamento><strong>Acompanhando o Processo de Treinamento</strong></h3> <p>Todo o processo de treinamento e testes pode levar algum tempo para ser concluído. É possível acompanhar o progresso consultando o <a href=../../capitulo-3/gerenciando-o-oci-atraves-do-oci-cli/#355-work-request>Work Request</a> relacionado à criação do modelo.</p> <p>Para consultar o <a href=../../capitulo-3/gerenciando-o-oci-atraves-do-oci-cli/#355-work-request>Work Request</a>, é necessário, primeiramente, obter o OCID do modelo de <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/text-class.htm target=_blank>Classificação de Texto</a> que foi submetido para criação, utilizando o comando abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1> 1</a></span>
<span class=normal><a href=#__codelineno-11-2> 2</a></span>
<span class=normal><a href=#__codelineno-11-3> 3</a></span>
<span class=normal><a href=#__codelineno-11-4> 4</a></span>
<span class=normal><a href=#__codelineno-11-5> 5</a></span>
<span class=normal><a href=#__codelineno-11-6> 6</a></span>
<span class=normal><a href=#__codelineno-11-7> 7</a></span>
<span class=normal><a href=#__codelineno-11-8> 8</a></span>
<span class=normal><a href=#__codelineno-11-9> 9</a></span>
<span class=normal><a href=#__codelineno-11-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>model<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;model-text-classification&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5></a>&gt;<span class=w> </span>--lifecycle-state<span class=w> </span><span class=s2>&quot;CREATING&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6></a>&gt;<span class=w> </span>--all<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7></a>&gt;<span class=w> </span>--query<span class=w> </span><span class=s1>&#39;data.items[].id&#39;</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8></a><span class=o>[</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9></a><span class=w>  </span><span class=s2>&quot;ocid1.ailanguagemodel.oc1.sa-saopaulo-1.abcdefghaikkkk&quot;</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10></a><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>Com o OCID do modelo, é possível listar e obter os OCIDs correspondentes aos <a href=../../capitulo-3/gerenciando-o-oci-atraves-do-oci-cli/#355-work-request>Work Request</a> utilizando o seguinte comando:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1>1</a></span>
<span class=normal><a href=#__codelineno-12-2>2</a></span>
<span class=normal><a href=#__codelineno-12-3>3</a></span>
<span class=normal><a href=#__codelineno-12-4>4</a></span>
<span class=normal><a href=#__codelineno-12-5>5</a></span>
<span class=normal><a href=#__codelineno-12-6>6</a></span>
<span class=normal><a href=#__codelineno-12-7>7</a></span>
<span class=normal><a href=#__codelineno-12-8>8</a></span>
<span class=normal><a href=#__codelineno-12-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>work-request<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a>&gt;<span class=w> </span>--resource-id<span class=w> </span><span class=s2>&quot;ocid1.ailanguagemodel.oc1.sa-saopaulo-1.abcdefghaikkkk&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a>&gt;<span class=w> </span>--all<span class=w> </span><span class=se>\</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6></a>&gt;<span class=w> </span>--query<span class=w> </span><span class=s1>&#39;data.items[].id&#39;</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7></a><span class=o>[</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w>  </span><span class=s2>&quot;ocid1.ailanguageworkrequest.oc1..yubvgsjalsoiauxnah&quot;</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9></a><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>Por fim, utiliza-se o OCID do <a href=../../capitulo-3/gerenciando-o-oci-atraves-do-oci-cli/#355-work-request>Work Request</a> para exibir as mensagens relacionadas ao processo de treinamento com o seguinte comando:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1> 1</a></span>
<span class=normal><a href=#__codelineno-13-2> 2</a></span>
<span class=normal><a href=#__codelineno-13-3> 3</a></span>
<span class=normal><a href=#__codelineno-13-4> 4</a></span>
<span class=normal><a href=#__codelineno-13-5> 5</a></span>
<span class=normal><a href=#__codelineno-13-6> 6</a></span>
<span class=normal><a href=#__codelineno-13-7> 7</a></span>
<span class=normal><a href=#__codelineno-13-8> 8</a></span>
<span class=normal><a href=#__codelineno-13-9> 9</a></span>
<span class=normal><a href=#__codelineno-13-10>10</a></span>
<span class=normal><a href=#__codelineno-13-11>11</a></span>
<span class=normal><a href=#__codelineno-13-12>12</a></span>
<span class=normal><a href=#__codelineno-13-13>13</a></span>
<span class=normal><a href=#__codelineno-13-14>14</a></span>
<span class=normal><a href=#__codelineno-13-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>work-request<span class=w> </span>log<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a>&gt;<span class=w> </span>--work-request-id<span class=w> </span><span class=s2>&quot;ocid1.ailanguageworkrequest.oc1..yubvgsjalsoiauxnah&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a>&gt;<span class=w> </span>--all<span class=w> </span><span class=se>\</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5></a>&gt;<span class=w> </span>--query<span class=w> </span><span class=s2>&quot;data.items[].{log:message,hora:timestamp}&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6></a>&gt;<span class=w> </span>--output<span class=w> </span>table
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7></a>+----------------------------------+------------------------------------------+
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8></a><span class=p>|</span><span class=w> </span>hora<span class=w>                             </span><span class=p>|</span><span class=w> </span>log<span class=w>                                      </span><span class=p>|</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9></a>+----------------------------------+------------------------------------------+
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10></a><span class=p>|</span><span class=w> </span><span class=m>2025</span>-11-16T12:51:07.152000+00:00<span class=w> </span><span class=p>|</span><span class=w> </span>Model<span class=w> </span>Training<span class=w> </span>execution<span class=w> </span>In<span class=w> </span>Progress<span class=w>     </span><span class=p>|</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11></a><span class=p>|</span><span class=w> </span><span class=m>2025</span>-11-16T12:51:06.889000+00:00<span class=w> </span><span class=p>|</span><span class=w> </span>Model<span class=w> </span>Training<span class=w> </span>initiation<span class=w> </span>In<span class=w> </span>Progress<span class=w>    </span><span class=p>|</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12></a><span class=p>|</span><span class=w> </span><span class=m>2025</span>-11-16T12:51:05.731000+00:00<span class=w> </span><span class=p>|</span><span class=w> </span>Preparing<span class=w> </span>data<span class=w> </span><span class=k>for</span><span class=w> </span>training<span class=w> </span>and<span class=w> </span>testing.<span class=w> </span><span class=p>|</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13></a><span class=p>|</span><span class=w> </span><span class=m>2025</span>-11-16T12:51:04.842000+00:00<span class=w> </span><span class=p>|</span><span class=w> </span>Successfully<span class=w> </span>started<span class=w> </span>model<span class=w> </span>creation.<span class=w>     </span><span class=p>|</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14></a><span class=p>|</span><span class=w> </span><span class=m>2025</span>-11-16T12:51:04.150000+00:00<span class=w> </span><span class=p>|</span><span class=w> </span>Starting<span class=w> </span>model<span class=w> </span>creation.<span class=w>                 </span><span class=p>|</span>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15></a>+----------------------------------+------------------------------------------+
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <a href=https://github.com/daniel-armbrust/ocn-ocipizza/blob/main/scripts/capitulo-4/language-model-logs.sh target=_blank>"language-model-logs.sh"</a>, localizado no diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4 target=_blank>"scripts/capitulo-4"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, inclui os comandos necessários para exibir as mensagens de log do processo de treinamento.</p> </div> <h3 id=endpoint><a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/endpoint.htm target=_blank><b>Endpoint</b></a></h3> <p>Para utilizar o modelo treinado, é necessário criar um <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/endpoint.htm target=_blank>endpoint</a>, o que pode ser feito com o comando abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1>1</a></span>
<span class=normal><a href=#__codelineno-14-2>2</a></span>
<span class=normal><a href=#__codelineno-14-3>3</a></span>
<span class=normal><a href=#__codelineno-14-4>4</a></span>
<span class=normal><a href=#__codelineno-14-5>5</a></span>
<span class=normal><a href=#__codelineno-14-6>6</a></span>
<span class=normal><a href=#__codelineno-14-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>endpoint<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4></a>&gt;<span class=w> </span>--model-id<span class=w> </span><span class=s2>&quot;ocid1.ailanguagemodel.oc1.sa-saopaulo-1.abcdefghaikkkk&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;endpoint-chatbot-text-classification&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6></a>&gt;<span class=w> </span>--description<span class=w> </span><span class=s2>&quot;Endpoint para Acesso ao Modelo de Classificação de Texto.&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7></a>&gt;<span class=w> </span>--wait-for-state<span class=w> </span><span class=s2>&quot;SUCCEEDED&quot;</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <a href=https://github.com/daniel-armbrust/ocn-ocipizza/blob/main/scripts/capitulo-4/language-model-endpoint.sh target=_blank>"language-model-endpoint.sh"</a>, localizado no diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4 target=_blank>"scripts/capitulo-4"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, inclui os comandos necessários para criar os <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/endpoint.htm target=_blank>endpoints</a> nas regiões <code>sa-saopaulo-1</code> e <code>sa-vinhedo-1</code>.</p> </div> <h3 id=testando-o-modelo><strong>Testando o Modelo</strong></h3> <p>Com o <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/endpoint.htm target=_blank>endpoint</a> criado, é possível testar o modelo para verificar se, ao processar novos dados, o modelo treinado consegue de fato classificar corretamente a intenção.</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>No campo da Inteligência Artificial, o termo "inferência" é frequentemente utilizado em vez de "teste"; no entanto, neste livro, optou-se pela palavra "teste". Para fins de informação, o termo "inferência" no contexto da Inteligência Artificial refere-se à "probabilidade a posteriori".</p> </div> <p>Antes de testar o modelo com novos dados, é necessário obter o OCID do <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/endpoint.htm target=_blank>endpoint</a> recém-criado. Isso pode ser feito utilizando o comando a seguir:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1> 1</a></span>
<span class=normal><a href=#__codelineno-15-2> 2</a></span>
<span class=normal><a href=#__codelineno-15-3> 3</a></span>
<span class=normal><a href=#__codelineno-15-4> 4</a></span>
<span class=normal><a href=#__codelineno-15-5> 5</a></span>
<span class=normal><a href=#__codelineno-15-6> 6</a></span>
<span class=normal><a href=#__codelineno-15-7> 7</a></span>
<span class=normal><a href=#__codelineno-15-8> 8</a></span>
<span class=normal><a href=#__codelineno-15-9> 9</a></span>
<span class=normal><a href=#__codelineno-15-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>endpoint<span class=w> </span>list<span class=w> </span><span class=se>\</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4></a>&gt;<span class=w> </span>--display-name<span class=w> </span><span class=s2>&quot;endpoint-chatbot-text-classification&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5></a>&gt;<span class=w> </span>--lifecycle-state<span class=w> </span><span class=s2>&quot;ACTIVE&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6></a>&gt;<span class=w> </span>--all<span class=w> </span><span class=se>\</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7></a>&gt;<span class=w> </span>--query<span class=w> </span><span class=s1>&#39;data.items[].id&#39;</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8></a><span class=o>[</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9></a><span class=w>  </span><span class=s2>&quot;ocid1.ailanguageendpoint.oc1.sa-saopaulo-1.amaaaaaa7bbbbbbbbbb&quot;</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10></a><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>Com o OCID do <a href=https://docs.oracle.com/pt-br/iaas/Content/language/using/endpoint.htm target=_blank>endpoint</a>, é possível submeter um texto ao modelo utilizando o comando abaixo:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1> 1</a></span>
<span class=normal><a href=#__codelineno-16-2> 2</a></span>
<span class=normal><a href=#__codelineno-16-3> 3</a></span>
<span class=normal><a href=#__codelineno-16-4> 4</a></span>
<span class=normal><a href=#__codelineno-16-5> 5</a></span>
<span class=normal><a href=#__codelineno-16-6> 6</a></span>
<span class=normal><a href=#__codelineno-16-7> 7</a></span>
<span class=normal><a href=#__codelineno-16-8> 8</a></span>
<span class=normal><a href=#__codelineno-16-9> 9</a></span>
<span class=normal><a href=#__codelineno-16-10>10</a></span>
<span class=normal><a href=#__codelineno-16-11>11</a></span>
<span class=normal><a href=#__codelineno-16-12>12</a></span>
<span class=normal><a href=#__codelineno-16-13>13</a></span>
<span class=normal><a href=#__codelineno-16-14>14</a></span>
<span class=normal><a href=#__codelineno-16-15>15</a></span>
<span class=normal><a href=#__codelineno-16-16>16</a></span>
<span class=normal><a href=#__codelineno-16-17>17</a></span>
<span class=normal><a href=#__codelineno-16-18>18</a></span>
<span class=normal><a href=#__codelineno-16-19>19</a></span>
<span class=normal><a href=#__codelineno-16-20>20</a></span>
<span class=normal><a href=#__codelineno-16-21>21</a></span>
<span class=normal><a href=#__codelineno-16-22>22</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a>$<span class=w> </span>oci<span class=w> </span>ai<span class=w> </span>language<span class=w> </span>batch-detect-text-classification<span class=w> </span><span class=se>\</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2></a>&gt;<span class=w> </span>--region<span class=w> </span><span class=s2>&quot;sa-saopaulo-1&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3></a>&gt;<span class=w> </span>--compartment-id<span class=w> </span><span class=s2>&quot;ocid1.compartment.oc1..aaaaaaaaaaaaaaaabbbbbbbbccc&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4></a>&gt;<span class=w> </span>--endpoint-id<span class=w> </span><span class=s2>&quot;ocid1.ailanguageendpoint.oc1.sa-saopaulo-1.amaaaaaa7bbbbbbbbbb&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5></a>&gt;<span class=w> </span>--documents<span class=w> </span><span class=err>&#39;</span><span class=o>[{</span><span class=s2>&quot;key&quot;</span>:<span class=w> </span><span class=s2>&quot;1&quot;</span>,<span class=w> </span><span class=s2>&quot;text&quot;</span>:<span class=w> </span><span class=s2>&quot;Vocês tem pizza de abobrinha?&quot;</span><span class=o>}]</span><span class=s2>&quot;</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6></a><span class=s2>{</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7></a><span class=s2>  &quot;</span>data<span class=s2>&quot;: {</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8></a><span class=s2>    &quot;</span>documents<span class=s2>&quot;: [</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9></a><span class=s2>      {</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10></a><span class=s2>        &quot;</span>key<span class=s2>&quot;: &quot;</span><span class=m>1</span><span class=s2>&quot;,</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11></a><span class=s2>        &quot;</span>language-code<span class=s2>&quot;: &quot;</span>en<span class=s2>&quot;,</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12></a><span class=s2>        &quot;</span>text-classification<span class=s2>&quot;: [</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13></a><span class=s2>          {</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14></a><span class=s2>            &quot;</span>label<span class=s2>&quot;: &quot;</span>ver_cardapio<span class=s2>&quot;,</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15></a><span class=s2>            &quot;</span>score<span class=s2>&quot;: 0.47043633460998535</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16></a><span class=s2>          }</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17></a><span class=s2>        ]</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18></a><span class=s2>      }</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19></a><span class=s2>    ],</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20></a><span class=s2>    &quot;</span>errors<span class=s2>&quot;: []</span>
</span><span id=__span-16-21><a id=__codelineno-16-21 name=__codelineno-16-21></a><span class=s2>  }</span>
</span><span id=__span-16-22><a id=__codelineno-16-22 name=__codelineno-16-22></a><span class=s2>}</span>
</span></code></pre></div></td></tr></table></div> <p>Algumas informações importantes sobre o resultado que são:</p> <ul> <li> <p><code>key</code></p> <ul> <li>Identificador único do documento definido pelo usuário. Você pode escolher qualquer valor numérico para <code>key</code>, que normalmente é utilizado para correlacionar o texto de entrada com o <code>label</code> de saída.</li> </ul> </li> <li> <p><code>label</code></p> <ul> <li>String que representa a intenção identificada pelo modelo treinado.</li> </ul> </li> <li> <p><code>score</code></p> <ul> <li>Pontuação de confiabilidade que indica a precisão da classificação das intenções. Quanto maior a pontuação, mais preciso o modelo está na identificação da intenção.</li> </ul> </li> </ul> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Quanto maior a quantidade de dados envolvidos no processo de treinamento, maiores serão as chances de alcançar uma pontuação maior. Algumas documentações sobre o tema indicam que uma boa pontuação deve ser, no mínimo, de <code>0.7</code> ou superior.</p> </div> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>O script <a href=https://github.com/daniel-armbrust/ocn-ocipizza/blob/main/scripts/capitulo-4/language-model-test.sh target=_blank>"language-model-test.sh"</a>, localizado no diretório <a href=https://github.com/daniel-armbrust/ocn-ocipizza/tree/main/scripts/capitulo-4 target=_blank>"scripts/capitulo-4"</a> do <a href=https://github.com/daniel-armbrust/ocn-ocipizza target=_blank>repositório de códigos</a> da aplicação <strong>OCI PIZZA</strong>, pode ser utilizado para submeter um texto e testar o modelo.</p> </div> <h2 id=434-arquitetura-do-chatbot>4.3.4 Arquitetura do Chatbot</h2> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Daniel Armbrust. Todos os direitos reservados. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/daniel-armbrust/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.e71a0d61.min.js></script> </body> </html>